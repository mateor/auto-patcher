diff -Npru stock-telephony-common/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali pdroid-telephony-common/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali
--- stock-telephony-common/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid-telephony-common/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali	2013-08-10 13:27:35.982143564 -0700
@@ -0,0 +1,1696 @@
+.class public Landroid/privacy/surrogate/PrivacyCDMALTEPhone;
+.super Lcom/android/internal/telephony/cdma/CDMALTEPhone;
+.source "PrivacyCDMALTEPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyCDMALTEPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getDeviceSvn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getMsisdn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMsisdn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getMsisdn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npru stock-telephony-common/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali pdroid-telephony-common/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali
--- stock-telephony-common/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid-telephony-common/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali	2013-08-10 13:27:35.990143565 -0700
@@ -0,0 +1,1602 @@
+.class public Landroid/privacy/surrogate/PrivacyCDMAPhone;
+.super Lcom/android/internal/telephony/cdma/CDMAPhone;
+.source "PrivacyCDMAPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyCDMAPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/cdma/CDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/cdma/CDMAPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getDeviceSvn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npru stock-telephony-common/smali/android/privacy/surrogate/PrivacyGSMPhone.smali pdroid-telephony-common/smali/android/privacy/surrogate/PrivacyGSMPhone.smali
--- stock-telephony-common/smali/android/privacy/surrogate/PrivacyGSMPhone.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid-telephony-common/smali/android/privacy/surrogate/PrivacyGSMPhone.smali	2013-08-10 13:27:36.018143566 -0700
@@ -0,0 +1,1602 @@
+.class public Landroid/privacy/surrogate/PrivacyGSMPhone;
+.super Lcom/android/internal/telephony/gsm/GSMPhone;
+.source "PrivacyGSMPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyGSMPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/gsm/GSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/gsm/GSMPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/gsm/GSMPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getDeviceSvn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyGSMPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npru stock-telephony-common/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali pdroid-telephony-common/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali
--- stock-telephony-common/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid-telephony-common/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali	2013-08-10 13:27:36.050143567 -0700
@@ -0,0 +1,3064 @@
+.class public Landroid/privacy/surrogate/PrivacyPhoneProxy;
+.super Lcom/android/internal/telephony/PhoneProxy;
+.source "PrivacyPhoneProxy.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyPhoneProxy"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private context_available:Z
+
+.field private mPm:Landroid/content/pm/IPackageManager;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Lcom/android/internal/telephony/PhoneBase;Landroid/content/Context;)V
+    .registers 6
+
+    invoke-direct {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;)V
+
+    if-eqz p2, :cond_3d
+
+    iput-object p2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    const/4 v0, 0x1
+
+    iput-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    :goto_a
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    invoke-direct {p0, v0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->initiate(Z)V
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p2, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+
+    :cond_3d
+    const/4 v0, 0x0
+
+    iput-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    goto :goto_a
+.end method
+
+.method private getPackageName()[Ljava/lang/String;
+    .registers 6
+
+    :try_start_0
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    if-eqz v3, :cond_f
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v1
+
+    :goto_e
+    return-object v1
+
+    :cond_f
+    const-string v3, "package"
+
+    invoke-static {v3}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v3
+
+    invoke-static {v3}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v3
+
+    iput-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+    :try_end_24
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_24} :catch_26
+
+    move-result-object v1
+
+    goto :goto_e
+
+    :catch_26
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v3, "PrivacyPhoneProxy"
+
+    const-string v4, "something went wrong with getting package name"
+
+    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v1, 0x0
+
+    goto :goto_e
+.end method
+
+.method private initiate(Z)V
+    .registers 5
+
+    if-eqz p1, :cond_21
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Context is available for package:"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_20
+    return-void
+
+    :cond_21
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Context is not available for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const-string v0, "package"
+
+    invoke-static {v0}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v0
+
+    invoke-static {v0}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v0
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    goto :goto_20
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 14
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v3, 0x1
+
+    const/4 v4, -0x1
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_48
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_34
+
+    if-eqz v11, :cond_34
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_34
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_34
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    :goto_47
+    return-object v0
+
+    :cond_48
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v11, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_56
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_47
+
+    :cond_56
+    const/4 v8, 0x0
+
+    :goto_57
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_70
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_82
+
+    if-eqz v11, :cond_82
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_82
+
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_70
+    if-eqz v7, :cond_85
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_47
+
+    :cond_82
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_57
+
+    :cond_85
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 15
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v3, 0x1
+
+    const/4 v4, -0x1
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_48
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_34
+
+    if-eqz v11, :cond_34
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_34
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_34
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    :goto_47
+    return-object v0
+
+    :cond_48
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v11, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_56
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_47
+
+    :cond_56
+    const/4 v8, 0x0
+
+    :goto_57
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_70
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_82
+
+    if-eqz v11, :cond_82
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_82
+
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_70
+    if-eqz v7, :cond_85
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_47
+
+    :cond_82
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_57
+
+    :cond_85
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 13
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getPhoneType()I
+
+    move-result v11
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_b5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_7c
+
+    if-eqz v6, :cond_7c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_2c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_7c
+
+    :cond_2c
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    packed-switch v11, :pswitch_data_16c
+
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    :goto_69
+    :pswitch_69
+    return-object v5
+
+    :pswitch_6a
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    goto :goto_69
+
+    :pswitch_70
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto :goto_69
+
+    :pswitch_76
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto :goto_69
+
+    :cond_7c
+    if-eqz v6, :cond_8c
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_8c
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v5
+
+    goto :goto_69
+
+    :cond_b5
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_c3
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v5
+
+    goto :goto_69
+
+    :cond_c3
+    const/4 v8, 0x0
+
+    :goto_c4
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_e7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_11b
+
+    if-eqz v6, :cond_11b
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_e5
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_11b
+
+    :cond_e5
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_e7
+    if-eqz v7, :cond_11e
+
+    if-eqz v6, :cond_f5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_f5
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v5
+
+    goto/16 :goto_69
+
+    :cond_11b
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_c4
+
+    :cond_11e
+    if-eqz v6, :cond_12d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_12d
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    packed-switch v11, :pswitch_data_178
+
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    goto/16 :goto_69
+
+    :pswitch_157
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    goto/16 :goto_69
+
+    :pswitch_15e
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto/16 :goto_69
+
+    :pswitch_165
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto/16 :goto_69
+
+    :pswitch_data_16c
+    .packed-switch 0x0
+        :pswitch_69
+        :pswitch_6a
+        :pswitch_70
+        :pswitch_76
+    .end packed-switch
+
+    :pswitch_data_178
+    .packed-switch 0x0
+        :pswitch_69
+        :pswitch_157
+        :pswitch_15e
+        :pswitch_165
+    .end packed-switch
+.end method
+
+.method public getDataConnectionState()Lcom/android/internal/telephony/PhoneConstants$DataState;
+    .registers 12
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_93
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5a
+
+    if-eqz v6, :cond_5a
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5a
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    sget-object v0, Lcom/android/internal/telephony/PhoneConstants$DataState;->CONNECTING:Lcom/android/internal/telephony/PhoneConstants$DataState;
+
+    :goto_59
+    return-object v0
+
+    :cond_5a
+    if-eqz v6, :cond_6a
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_6a
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getDataConnectionState()Lcom/android/internal/telephony/PhoneConstants$DataState;
+
+    move-result-object v0
+
+    goto :goto_59
+
+    :cond_93
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_a1
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getDataConnectionState()Lcom/android/internal/telephony/PhoneConstants$DataState;
+
+    move-result-object v0
+
+    goto :goto_59
+
+    :cond_a1
+    const/4 v8, 0x0
+
+    :goto_a2
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_bf
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_f3
+
+    if-eqz v6, :cond_f3
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_f3
+
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_bf
+    if-eqz v7, :cond_f6
+
+    if-eqz v6, :cond_cd
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_cd
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getDataConnectionState()Lcom/android/internal/telephony/PhoneConstants$DataState;
+
+    move-result-object v0
+
+    goto/16 :goto_59
+
+    :cond_f3
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_a2
+
+    :cond_f6
+    if-eqz v6, :cond_105
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_105
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    sget-object v0, Lcom/android/internal/telephony/PhoneConstants$DataState;->CONNECTING:Lcom/android/internal/telephony/PhoneConstants$DataState;
+
+    goto/16 :goto_59
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 20
+
+    move-object/from16 v0, p0
+
+    iget-boolean v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v1, :cond_91
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_5c
+
+    if-eqz v7, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v4
+
+    const-string v5, "deviceID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5b
+    return-object v6
+
+    :cond_5c
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "deviceID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_5b
+
+    :cond_91
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v17
+
+    const/4 v15, 0x1
+
+    const/4 v14, 0x0
+
+    const/16 v18, 0x0
+
+    if-nez v17, :cond_a0
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    goto :goto_5b
+
+    :cond_a0
+    const/16 v16, 0x0
+
+    :goto_a2
+    move-object/from16 v0, v17
+
+    array-length v1, v0
+
+    move/from16 v0, v16
+
+    if-ge v0, v1, :cond_c8
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v4, v17, v16
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v5
+
+    invoke-virtual {v1, v4, v5}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v14
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v1, :cond_103
+
+    if-eqz v14, :cond_103
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_103
+
+    const/4 v15, 0x0
+
+    move/from16 v18, v16
+
+    :cond_c8
+    if-eqz v15, :cond_106
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_e1
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    const/4 v11, 0x0
+
+    const-string v12, "deviceID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_e1
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+
+    :cond_103
+    add-int/lit8 v16, v16, 0x1
+
+    goto :goto_a2
+
+    :cond_106
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_120
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v11
+
+    const-string v12, "deviceID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_120
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getIccSerialNumber()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 20
+
+    move-object/from16 v0, p0
+
+    iget-boolean v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v1, :cond_91
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_5c
+
+    if-eqz v7, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v4
+
+    const-string v5, "line1Number"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5b
+    return-object v6
+
+    :cond_5c
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "line1Number"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_5b
+
+    :cond_91
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v17
+
+    const/4 v15, 0x1
+
+    const/4 v14, 0x0
+
+    const/16 v18, 0x0
+
+    if-nez v17, :cond_a0
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    goto :goto_5b
+
+    :cond_a0
+    const/16 v16, 0x0
+
+    :goto_a2
+    move-object/from16 v0, v17
+
+    array-length v1, v0
+
+    move/from16 v0, v16
+
+    if-ge v0, v1, :cond_c8
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v4, v17, v16
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v5
+
+    invoke-virtual {v1, v4, v5}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v14
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v1, :cond_103
+
+    if-eqz v14, :cond_103
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_103
+
+    const/4 v15, 0x0
+
+    move/from16 v18, v16
+
+    :cond_c8
+    if-eqz v15, :cond_106
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_e1
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    const/4 v11, 0x0
+
+    const-string v12, "line1Number"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_e1
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+
+    :cond_103
+    add-int/lit8 v16, v16, 0x1
+
+    goto :goto_a2
+
+    :cond_106
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_120
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v11
+
+    const-string v12, "line1Number"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_120
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getMsisdn()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 2
+
+    new-instance v0, Lcom/android/internal/telephony/PhoneSubInfo;
+
+    invoke-direct {v0, p0}, Lcom/android/internal/telephony/PhoneSubInfo;-><init>(Lcom/android/internal/telephony/Phone;)V
+
+    return-object v0
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 13
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_9e
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_65
+
+    if-eqz v6, :cond_65
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_65
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v9, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_64
+    return-object v9
+
+    :cond_65
+    if-eqz v6, :cond_75
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_75
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    goto :goto_64
+
+    :cond_9e
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v10
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v11, 0x0
+
+    if-nez v10, :cond_ac
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    goto :goto_64
+
+    :cond_ac
+    const/4 v8, 0x0
+
+    :goto_ad
+    array-length v0, v10
+
+    if-ge v8, v0, :cond_ca
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_fe
+
+    if-eqz v6, :cond_fe
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_fe
+
+    const/4 v7, 0x0
+
+    move v11, v8
+
+    :cond_ca
+    if-eqz v7, :cond_101
+
+    if-eqz v6, :cond_d8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_d8
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    goto/16 :goto_64
+
+    :cond_fe
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_ad
+
+    :cond_101
+    if-eqz v6, :cond_110
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_110
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v9, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_64
+.end method
+
+.method public getSignalStrength()Landroid/telephony/SignalStrength;
+    .registers 13
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    new-instance v9, Landroid/telephony/SignalStrength;
+
+    invoke-direct {v9}, Landroid/telephony/SignalStrength;-><init>()V
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_96
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5d
+
+    if-eqz v6, :cond_5d
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5c
+    return-object v9
+
+    :cond_5d
+    if-eqz v6, :cond_6d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_6d
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getSignalStrength()Landroid/telephony/SignalStrength;
+
+    move-result-object v9
+
+    goto :goto_5c
+
+    :cond_96
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v10
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v11, 0x0
+
+    if-nez v10, :cond_a4
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getSignalStrength()Landroid/telephony/SignalStrength;
+
+    move-result-object v9
+
+    goto :goto_5c
+
+    :cond_a4
+    const/4 v8, 0x0
+
+    :goto_a5
+    array-length v0, v10
+
+    if-ge v8, v0, :cond_c2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_f6
+
+    if-eqz v6, :cond_f6
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_f6
+
+    const/4 v7, 0x0
+
+    move v11, v8
+
+    :cond_c2
+    if-eqz v7, :cond_f9
+
+    if-eqz v6, :cond_d0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_d0
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getSignalStrength()Landroid/telephony/SignalStrength;
+
+    move-result-object v9
+
+    goto/16 :goto_5c
+
+    :cond_f6
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_a5
+
+    :cond_f9
+    if-eqz v6, :cond_108
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_108
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5c
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 20
+
+    move-object/from16 v0, p0
+
+    iget-boolean v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v1, :cond_91
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_5c
+
+    if-eqz v7, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v4
+
+    const-string v5, "subscriberID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5b
+    return-object v6
+
+    :cond_5c
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "subscriberID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_5b
+
+    :cond_91
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v17
+
+    const/4 v15, 0x1
+
+    const/4 v14, 0x0
+
+    const/16 v18, 0x0
+
+    if-nez v17, :cond_a0
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    goto :goto_5b
+
+    :cond_a0
+    const/16 v16, 0x0
+
+    :goto_a2
+    move-object/from16 v0, v17
+
+    array-length v1, v0
+
+    move/from16 v0, v16
+
+    if-ge v0, v1, :cond_c8
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v4, v17, v16
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v5
+
+    invoke-virtual {v1, v4, v5}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v14
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v1, :cond_103
+
+    if-eqz v14, :cond_103
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_103
+
+    const/4 v15, 0x0
+
+    move/from16 v18, v16
+
+    :cond_c8
+    if-eqz v15, :cond_106
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_e1
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    const/4 v11, 0x0
+
+    const-string v12, "subscriberID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_e1
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+
+    :cond_103
+    add-int/lit8 v16, v16, 0x1
+
+    goto :goto_a2
+
+    :cond_106
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_120
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v11
+
+    const-string v12, "subscriberID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_120
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
diff -Npru stock-telephony-common/smali/android/privacy/surrogate/PrivacySipPhone.smali pdroid-telephony-common/smali/android/privacy/surrogate/PrivacySipPhone.smali
--- stock-telephony-common/smali/android/privacy/surrogate/PrivacySipPhone.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid-telephony-common/smali/android/privacy/surrogate/PrivacySipPhone.smali	2013-08-10 13:27:36.078143568 -0700
@@ -0,0 +1,1602 @@
+.class public Landroid/privacy/surrogate/PrivacySipPhone;
+.super Lcom/android/internal/telephony/sip/SipPhone;
+.source "PrivacySipPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyGSMPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/sip/SipPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/sip/SipPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/sip/SipPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyGSMPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npru stock-telephony-common/smali/com/android/internal/telephony/cdma/CDMAPhone.smali pdroid-telephony-common/smali/com/android/internal/telephony/cdma/CDMAPhone.smali
--- stock-telephony-common/smali/com/android/internal/telephony/cdma/CDMAPhone.smali	2013-08-10 13:27:34.890143520 -0700
+++ pdroid-telephony-common/smali/com/android/internal/telephony/cdma/CDMAPhone.smali	2013-08-10 13:27:35.970143564 -0700
@@ -3487,7 +3487,7 @@
     return-void
 .end method
 
-.method notifyLocationChanged()V
+.method public notifyLocationChanged()V
     .registers 2
 
     iget-object v0, p0, Lcom/android/internal/telephony/cdma/CDMAPhone;->mNotifier:Lcom/android/internal/telephony/PhoneNotifier;
diff -Npru stock-telephony-common/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali pdroid-telephony-common/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali
--- stock-telephony-common/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali	2013-08-10 13:27:34.950143522 -0700
+++ pdroid-telephony-common/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali	2013-08-10 13:27:36.462143584 -0700
@@ -38,6 +38,8 @@
 
 .field mCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
+.field private mContext:Landroid/content/Context;
+
 .field private mCr:Landroid/content/ContentResolver;
 
 .field protected mCurPlmn:Ljava/lang/String;
@@ -98,6 +100,8 @@
 
 .field private mZoneTime:J
 
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 
 # direct methods
 .method public constructor <init>(Lcom/android/internal/telephony/cdma/CDMAPhone;)V
@@ -241,7 +245,7 @@
 
     move-result v2
 
-    if-nez v2, :cond_ed
+    if-nez v2, :cond_106
 
     move v2, v3
 
@@ -341,12 +345,36 @@
 
     invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->setSignalStrengthDefaultValues()V
 
+    invoke-virtual {p1}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
+
+    move-result-object v2
+
+    iput-object v2, p0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    new-instance v2, Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v3, p0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    const-string v4, "privacy"
+
+    invoke-static {v4}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v4
+
+    invoke-static {v4}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v4
+
+    invoke-direct {v2, v3, v4}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v2, p0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
     return-void
 
-    :cond_ed
+    :cond_106
     move v2, v4
 
-    goto :goto_86
+    goto/16 :goto_86
 .end method
 
 .method static synthetic access$000(Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;)V
@@ -3844,7 +3872,7 @@
 .end method
 
 .method public handleMessage(Landroid/os/Message;)V
-    .registers 22
+    .registers 24
 
     move-object/from16 v0, p0
 
@@ -3858,9 +3886,9 @@
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "Received message "
+    const-string v20, "Received message "
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -3872,9 +3900,9 @@
 
     move-result-object v3
 
-    const-string v18, "["
+    const-string v20, "["
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -3884,25 +3912,25 @@
 
     iget v0, v0, Landroid/os/Message;->what:I
 
-    move/from16 v18, v0
+    move/from16 v20, v0
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const-string v18, "]"
+    const-string v20, "]"
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const-string v18, " while being destroyed. Ignoring."
+    const-string v20, " while being destroyed. Ignoring."
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -3925,7 +3953,7 @@
 
     iget v3, v0, Landroid/os/Message;->what:I
 
-    packed-switch v3, :pswitch_data_31a
+    packed-switch v3, :pswitch_data_37e
 
     :pswitch_50
     invoke-super/range {p0 .. p1}, Lcom/android/internal/telephony/ServiceStateTracker;->handleMessage(Landroid/os/Message;)V
@@ -3956,9 +3984,9 @@
 
     move-result v3
 
-    const/16 v18, 0x1
+    const/16 v20, 0x1
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     if-ne v3, v0, :cond_82
 
@@ -4004,9 +4032,9 @@
 
     move-result-object v3
 
-    sget-object v18, Lcom/android/internal/telephony/CommandsInterface$RadioState;->RADIO_ON:Lcom/android/internal/telephony/CommandsInterface$RadioState;
+    sget-object v20, Lcom/android/internal/telephony/CommandsInterface$RadioState;->RADIO_ON:Lcom/android/internal/telephony/CommandsInterface$RadioState;
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     if-ne v3, v0, :cond_af
 
@@ -4076,15 +4104,15 @@
 
     iget-object v3, v9, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    if-nez v3, :cond_155
+    if-nez v3, :cond_17f
 
     iget-object v3, v9, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
     check-cast v3, [Ljava/lang/String;
 
-    move-object/from16 v17, v3
+    move-object/from16 v18, v3
 
-    check-cast v17, [Ljava/lang/String;
+    check-cast v18, [Ljava/lang/String;
 
     const/4 v4, -0x1
 
@@ -4096,26 +4124,26 @@
 
     const/4 v8, -0x1
 
-    move-object/from16 v0, v17
+    move-object/from16 v0, v18
 
     array-length v3, v0
 
-    const/16 v18, 0x9
+    const/16 v20, 0x9
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     if-le v3, v0, :cond_147
 
     const/4 v3, 0x4
 
     :try_start_fe
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_109
 
     const/4 v3, 0x4
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4124,13 +4152,13 @@
     :cond_109
     const/4 v3, 0x5
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_115
 
     const/4 v3, 0x5
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4139,13 +4167,13 @@
     :cond_115
     const/4 v3, 0x6
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_121
 
     const/4 v3, 0x6
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4163,13 +4191,13 @@
     :cond_12b
     const/16 v3, 0x8
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_139
 
     const/16 v3, 0x8
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4178,17 +4206,17 @@
     :cond_139
     const/16 v3, 0x9
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_147
 
     const/16 v3, 0x9
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
     :try_end_146
-    .catch Ljava/lang/NumberFormatException; {:try_start_fe .. :try_end_146} :catch_15a
+    .catch Ljava/lang/NumberFormatException; {:try_start_fe .. :try_end_146} :catch_184
 
     move-result v8
 
@@ -4196,31 +4224,74 @@
     :goto_147
     move-object/from16 v0, p0
 
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    move-object/from16 v20, v0
+
+    invoke-virtual/range {v20 .. v20}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v20
+
+    const/16 v21, 0x0
+
+    move-object/from16 v0, v20
+
+    move/from16 v1, v21
+
+    invoke-virtual {v3, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v17
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_1a0
+
+    if-eqz v17, :cond_1a0
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const/16 v20, 0x1
+
+    move/from16 v0, v20
+
+    if-ne v3, v0, :cond_1a0
+
+    move-object/from16 v0, p0
+
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+    invoke-virtual {v3}, Landroid/telephony/cdma/CdmaCellLocation;->setStateInvalid()V
 
+    :goto_178
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mPhone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
     invoke-virtual {v3}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyLocationChanged()V
 
-    :cond_155
+    :cond_17f
     invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->disableSingleLocationUpdate()V
 
     goto/16 :goto_48
 
-    :catch_15a
+    :catch_184
     move-exception v11
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "error parsing cell location data: "
+    const-string v20, "error parsing cell location data: "
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4240,7 +4311,67 @@
 
     goto :goto_147
 
-    :pswitch_176
+    :cond_1a0
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_1d3
+
+    if-eqz v17, :cond_1d3
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const/16 v20, 0x3
+
+    move/from16 v0, v20
+
+    if-ne v3, v0, :cond_1d3
+
+    new-instance v19, Ljava/util/Random;
+
+    invoke-direct/range {v19 .. v19}, Ljava/util/Random;-><init>()V
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v4
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v5
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v6
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v7
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v8
+
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+
+    goto :goto_178
+
+    :cond_1d3
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+
+    goto :goto_178
+
+    :pswitch_1db
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4257,7 +4388,7 @@
 
     goto/16 :goto_48
 
-    :pswitch_187
+    :pswitch_1ec
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4276,15 +4407,15 @@
 
     check-cast v10, [Ljava/lang/String;
 
-    if-eqz v10, :cond_219
+    if-eqz v10, :cond_27e
 
     array-length v3, v10
 
-    const/16 v18, 0x5
+    const/16 v20, 0x5
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
-    if-lt v3, v0, :cond_219
+    if-lt v3, v0, :cond_27e
 
     const/4 v3, 0x0
 
@@ -4298,13 +4429,13 @@
 
     aget-object v3, v10, v3
 
-    const/16 v18, 0x2
+    const/16 v20, 0x2
 
-    aget-object v18, v10, v18
+    aget-object v20, v10, v20
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v18
+    move-object/from16 v1, v20
 
     invoke-virtual {v0, v3, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->parseSidNid(Ljava/lang/String;Ljava/lang/String;)V
 
@@ -4328,9 +4459,9 @@
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "GET_CDMA_SUBSCRIPTION: MDN="
+    const-string v20, "GET_CDMA_SUBSCRIPTION: MDN="
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4340,9 +4471,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mMdn:Ljava/lang/String;
 
-    move-object/from16 v18, v0
+    move-object/from16 v20, v0
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4368,13 +4499,13 @@
 
     iget-boolean v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mIsSubscriptionFromRuim:Z
 
-    if-nez v3, :cond_210
+    if-nez v3, :cond_275
 
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mIccRecords:Lcom/android/internal/telephony/uicc/IccRecords;
 
-    if-eqz v3, :cond_210
+    if-eqz v3, :cond_275
 
     const-string v3, "GET_CDMA_SUBSCRIPTION set imsi in mIccRecords"
 
@@ -4388,15 +4519,15 @@
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->getImsi()Ljava/lang/String;
 
-    move-result-object v18
+    move-result-object v20
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Lcom/android/internal/telephony/uicc/IccRecords;->setImsi(Ljava/lang/String;)V
 
     goto/16 :goto_48
 
-    :cond_210
+    :cond_275
     const-string v3, "GET_CDMA_SUBSCRIPTION either mIccRecords is null  or NV type device - not setting Imsi in mIccRecords"
 
     move-object/from16 v0, p0
@@ -4405,14 +4536,14 @@
 
     goto/16 :goto_48
 
-    :cond_219
+    :cond_27e
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "GET_CDMA_SUBSCRIPTION: error parsing cdmaSubscription params num="
+    const-string v20, "GET_CDMA_SUBSCRIPTION: error parsing cdmaSubscription params num="
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4420,9 +4551,9 @@
 
     array-length v0, v10
 
-    move/from16 v18, v0
+    move/from16 v20, v0
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
@@ -4438,28 +4569,28 @@
 
     goto/16 :goto_48
 
-    :pswitch_23a
+    :pswitch_29f
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/16 v18, 0x3
+    const/16 v20, 0x3
 
     move-object/from16 v0, p0
 
-    move/from16 v1, v18
+    move/from16 v1, v20
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->obtainMessage(I)Landroid/os/Message;
 
-    move-result-object v18
+    move-result-object v20
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-interface {v3, v0}, Lcom/android/internal/telephony/CommandsInterface;->getSignalStrength(Landroid/os/Message;)V
 
     goto/16 :goto_48
 
-    :pswitch_24f
+    :pswitch_2b4
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4472,9 +4603,9 @@
 
     check-cast v3, [Ljava/lang/Object;
 
-    const/16 v18, 0x0
+    const/16 v20, 0x0
 
-    aget-object v15, v3, v18
+    aget-object v15, v3, v20
 
     check-cast v15, Ljava/lang/String;
 
@@ -4484,9 +4615,9 @@
 
     check-cast v3, [Ljava/lang/Object;
 
-    const/16 v18, 0x1
+    const/16 v20, 0x1
 
-    aget-object v3, v3, v18
+    aget-object v3, v3, v20
 
     check-cast v3, Ljava/lang/Long;
 
@@ -4500,7 +4631,7 @@
 
     goto/16 :goto_48
 
-    :pswitch_278
+    :pswitch_2dd
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4521,12 +4652,12 @@
 
     goto/16 :goto_48
 
-    :pswitch_28b
+    :pswitch_2f0
     invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->updateSpnDisplay()V
 
     goto/16 :goto_48
 
-    :pswitch_290
+    :pswitch_2f5
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4541,27 +4672,27 @@
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/16 v18, 0x1f
+    const/16 v20, 0x1f
 
-    const/16 v19, 0x0
+    const/16 v21, 0x0
 
     move-object/from16 v0, p0
 
-    move/from16 v1, v18
+    move/from16 v1, v20
 
-    move-object/from16 v2, v19
+    move-object/from16 v2, v21
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
 
-    move-result-object v18
+    move-result-object v20
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-interface {v3, v0}, Lcom/android/internal/telephony/CommandsInterface;->getVoiceRegistrationState(Landroid/os/Message;)V
 
     goto/16 :goto_48
 
-    :pswitch_2b3
+    :pswitch_318
     const-string v3, "[CdmaServiceStateTracker] ERI file has been loaded, repolling."
 
     move-object/from16 v0, p0
@@ -4572,7 +4703,7 @@
 
     goto/16 :goto_48
 
-    :pswitch_2bf
+    :pswitch_324
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4599,7 +4730,7 @@
 
     move/from16 v0, v16
 
-    if-eq v0, v3, :cond_2df
+    if-eq v0, v3, :cond_344
 
     const/16 v3, 0xa
 
@@ -4607,7 +4738,7 @@
 
     if-ne v0, v3, :cond_48
 
-    :cond_2df
+    :cond_344
     const-string v3, "EVENT_OTA_PROVISION_STATUS_CHANGE: Complete, Reload MDN"
 
     move-object/from16 v0, p0
@@ -4618,23 +4749,23 @@
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/16 v18, 0x22
+    const/16 v20, 0x22
 
     move-object/from16 v0, p0
 
-    move/from16 v1, v18
+    move/from16 v1, v20
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->obtainMessage(I)Landroid/os/Message;
 
-    move-result-object v18
+    move-result-object v20
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-interface {v3, v0}, Lcom/android/internal/telephony/CommandsInterface;->getCDMASubscription(Landroid/os/Message;)V
 
     goto/16 :goto_48
 
-    :pswitch_2fb
+    :pswitch_360
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4667,50 +4798,48 @@
 
     goto/16 :goto_48
 
-    nop
-
-    :pswitch_data_31a
+    :pswitch_data_37e
     .packed-switch 0x1
         :pswitch_91
         :pswitch_50
         :pswitch_ba
         :pswitch_50
-        :pswitch_176
+        :pswitch_1db
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
-        :pswitch_23a
-        :pswitch_24f
-        :pswitch_278
+        :pswitch_29f
+        :pswitch_2b4
+        :pswitch_2dd
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
-        :pswitch_290
+        :pswitch_2f5
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
-        :pswitch_176
-        :pswitch_176
+        :pswitch_1db
+        :pswitch_1db
         :pswitch_62
-        :pswitch_28b
+        :pswitch_2f0
         :pswitch_50
         :pswitch_50
         :pswitch_b6
         :pswitch_d9
         :pswitch_50
         :pswitch_50
-        :pswitch_187
+        :pswitch_1ec
         :pswitch_8d
-        :pswitch_2b3
-        :pswitch_2bf
+        :pswitch_318
+        :pswitch_324
         :pswitch_50
         :pswitch_54
-        :pswitch_2fb
+        :pswitch_360
     .end packed-switch
 .end method
 
@@ -5143,9 +5272,33 @@
 .end method
 
 .method protected handlePollStateResultMessage(ILandroid/os/AsyncResult;)V
-    .registers 28
+    .registers 30
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    move-object/from16 v24, v0
+
+    invoke-virtual/range {v24 .. v24}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v24
+
+    const/16 v25, 0x0
+
+    move-object/from16 v0, v24
+
+    move/from16 v1, v25
+
+    invoke-virtual {v3, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
 
-    sparse-switch p1, :sswitch_data_340
+    move-result-object v20
+
+    sparse-switch p1, :sswitch_data_3ee
 
     const-string v3, "handlePollStateResultMessage: RIL response handle in wrong phone! Expected CDMA RIL request and get GSM RIL request."
 
@@ -5153,54 +5306,54 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    :cond_a
-    :goto_a
+    :cond_22
+    :goto_22
     return-void
 
-    :sswitch_b
+    :sswitch_23
     move-object/from16 v0, p2
 
     iget-object v3, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
     check-cast v3, [Ljava/lang/String;
 
-    move-object/from16 v20, v3
+    move-object/from16 v21, v3
 
-    check-cast v20, [Ljava/lang/String;
+    check-cast v21, [Ljava/lang/String;
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v22, "handlePollStateResultMessage: EVENT_POLL_STATE_GPRS states.length="
+    const-string v24, "handlePollStateResultMessage: EVENT_POLL_STATE_GPRS states.length="
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v24
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    move-object/from16 v0, v20
+    move-object/from16 v0, v21
 
     array-length v0, v0
 
-    move/from16 v22, v0
+    move/from16 v24, v0
 
-    move/from16 v0, v22
+    move/from16 v0, v24
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const-string v22, " states="
+    const-string v24, " states="
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v24
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    move-object/from16 v0, v20
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
@@ -5218,49 +5371,49 @@
 
     const/4 v10, 0x0
 
-    move-object/from16 v0, v20
+    move-object/from16 v0, v21
 
     array-length v3, v0
 
-    if-lez v3, :cond_68
+    if-lez v3, :cond_80
 
     const/4 v3, 0x0
 
-    :try_start_4d
-    aget-object v3, v20, v3
+    :try_start_65
+    aget-object v3, v21, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v17
 
-    move-object/from16 v0, v20
+    move-object/from16 v0, v21
 
     array-length v3, v0
 
-    const/16 v22, 0x4
+    const/16 v24, 0x4
 
-    move/from16 v0, v22
+    move/from16 v0, v24
 
-    if-lt v3, v0, :cond_68
+    if-lt v3, v0, :cond_80
 
     const/4 v3, 0x3
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
-    if-eqz v3, :cond_68
+    if-eqz v3, :cond_80
 
     const/4 v3, 0x3
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
-    :try_end_67
-    .catch Ljava/lang/NumberFormatException; {:try_start_4d .. :try_end_67} :catch_b4
+    :try_end_7f
+    .catch Ljava/lang/NumberFormatException; {:try_start_65 .. :try_end_7f} :catch_cc
 
     move-result v10
 
-    :cond_68
-    :goto_68
+    :cond_80
+    :goto_80
     move-object/from16 v0, p0
 
     move/from16 v1, v17
@@ -5285,9 +5438,9 @@
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v22, "handlPollStateResultMessage: cdma setDataRegState="
+    const-string v24, "handlPollStateResultMessage: cdma setDataRegState="
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v24
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5297,9 +5450,9 @@
 
     move-result-object v3
 
-    const-string v22, " regState="
+    const-string v24, " regState="
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v24
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5311,9 +5464,9 @@
 
     move-result-object v3
 
-    const-string v22, " dataRadioTechnology="
+    const-string v24, " dataRadioTechnology="
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v24
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5331,18 +5484,18 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
 
-    :catch_b4
+    :catch_cc
     move-exception v13
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v22, "handlePollStateResultMessage: error parsing GprsRegistrationState: "
+    const-string v24, "handlePollStateResultMessage: error parsing GprsRegistrationState: "
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v24
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5360,18 +5513,18 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto :goto_68
+    goto :goto_80
 
-    :sswitch_d0
+    :sswitch_e8
     move-object/from16 v0, p2
 
     iget-object v3, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
     check-cast v3, [Ljava/lang/String;
 
-    move-object/from16 v20, v3
+    move-object/from16 v21, v3
 
-    check-cast v20, [Ljava/lang/String;
+    check-cast v21, [Ljava/lang/String;
 
     const/16 v18, 0x4
 
@@ -5391,215 +5544,215 @@
 
     const/16 v19, -0x1
 
-    const/16 v21, 0x0
+    const/16 v22, 0x0
 
     const/4 v12, 0x0
 
     const/16 v16, 0x0
 
-    move-object/from16 v0, v20
+    move-object/from16 v0, v21
 
     array-length v3, v0
 
-    const/16 v22, 0xe
+    const/16 v24, 0xe
 
-    move/from16 v0, v22
+    move/from16 v0, v24
 
-    if-lt v3, v0, :cond_24f
+    if-lt v3, v0, :cond_279
 
     const/4 v3, 0x0
 
-    :try_start_f8
-    aget-object v3, v20, v3
+    :try_start_110
+    aget-object v3, v21, v3
 
-    if-eqz v3, :cond_103
+    if-eqz v3, :cond_11b
 
     const/4 v3, 0x0
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v18
 
-    :cond_103
+    :cond_11b
     const/4 v3, 0x3
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
-    if-eqz v3, :cond_10f
+    if-eqz v3, :cond_127
 
     const/4 v3, 0x3
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v15
 
-    :cond_10f
+    :cond_127
     const/4 v3, 0x4
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
-    if-eqz v3, :cond_11b
+    if-eqz v3, :cond_133
 
     const/4 v3, 0x4
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v4
 
-    :cond_11b
+    :cond_133
     const/4 v3, 0x5
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
-    if-eqz v3, :cond_127
+    if-eqz v3, :cond_13f
 
     const/4 v3, 0x5
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v5
 
-    :cond_127
+    :cond_13f
     const/4 v3, 0x6
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
-    if-eqz v3, :cond_133
+    if-eqz v3, :cond_14b
 
     const/4 v3, 0x6
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v6
 
-    :cond_133
-    if-nez v5, :cond_13d
+    :cond_14b
+    if-nez v5, :cond_155
 
-    if-nez v6, :cond_13d
+    if-nez v6, :cond_155
 
     const v5, 0x7fffffff
 
     const v6, 0x7fffffff
 
-    :cond_13d
+    :cond_155
     const/4 v3, 0x7
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
-    if-eqz v3, :cond_149
+    if-eqz v3, :cond_161
 
     const/4 v3, 0x7
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v9
 
-    :cond_149
+    :cond_161
     const/16 v3, 0x8
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
-    if-eqz v3, :cond_157
+    if-eqz v3, :cond_16f
 
     const/16 v3, 0x8
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v7
 
-    :cond_157
+    :cond_16f
     const/16 v3, 0x9
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
-    if-eqz v3, :cond_165
+    if-eqz v3, :cond_17d
 
     const/16 v3, 0x9
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v8
 
-    :cond_165
+    :cond_17d
     const/16 v3, 0xa
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
-    if-eqz v3, :cond_173
+    if-eqz v3, :cond_18b
 
     const/16 v3, 0xa
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v19
 
-    :cond_173
+    :cond_18b
     const/16 v3, 0xb
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
-    if-eqz v3, :cond_181
+    if-eqz v3, :cond_199
 
     const/16 v3, 0xb
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
-    move-result v21
+    move-result v22
 
-    :cond_181
+    :cond_199
     const/16 v3, 0xc
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
-    if-eqz v3, :cond_18f
+    if-eqz v3, :cond_1a7
 
     const/16 v3, 0xc
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v12
 
-    :cond_18f
+    :cond_1a7
     const/16 v3, 0xd
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
-    if-eqz v3, :cond_19d
+    if-eqz v3, :cond_1b5
 
     const/16 v3, 0xd
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
-    :try_end_19c
-    .catch Ljava/lang/NumberFormatException; {:try_start_f8 .. :try_end_19c} :catch_232
+    :try_end_1b4
+    .catch Ljava/lang/NumberFormatException; {:try_start_110 .. :try_end_1b4} :catch_25c
 
     move-result v16
 
-    :cond_19d
-    :goto_19d
+    :cond_1b5
+    :goto_1b5
     move/from16 v0, v18
 
     move-object/from16 v1, p0
@@ -5614,11 +5767,11 @@
 
     move-result v3
 
-    if-eqz v3, :cond_275
+    if-eqz v3, :cond_29f
 
     const/16 v3, 0xa
 
-    aget-object v3, v20, v3
+    aget-object v3, v21, v3
 
     move-object/from16 v0, p0
 
@@ -5626,11 +5779,11 @@
 
     move-result v3
 
-    if-nez v3, :cond_275
+    if-nez v3, :cond_29f
 
     const/4 v3, 0x1
 
-    :goto_1ba
+    :goto_1d2
     move-object/from16 v0, p0
 
     iput-boolean v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mCdmaRoaming:Z
@@ -5645,9 +5798,9 @@
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->regCodeToServiceState(I)I
 
-    move-result v22
+    move-result v24
 
-    move/from16 v0, v22
+    move/from16 v0, v24
 
     invoke-virtual {v3, v0}, Landroid/telephony/ServiceState;->setState(I)V
 
@@ -5675,11 +5828,11 @@
 
     iput v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRoamingIndicator:I
 
-    if-nez v21, :cond_278
+    if-nez v22, :cond_2a2
 
     const/4 v3, 0x0
 
-    :goto_1ed
+    :goto_205
     move-object/from16 v0, p0
 
     iput-boolean v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mIsInPrl:Z
@@ -5690,11 +5843,30 @@
 
     move-object/from16 v0, p0
 
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_2a5
+
+    if-eqz v20, :cond_2a5
+
+    invoke-virtual/range {v20 .. v20}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const/16 v24, 0x1
+
+    move/from16 v0, v24
+
+    if-ne v3, v0, :cond_2a5
+
+    move-object/from16 v0, p0
+
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+    invoke-virtual {v3}, Landroid/telephony/cdma/CdmaCellLocation;->setStateInvalid()V
 
-    if-nez v16, :cond_27b
+    :goto_226
+    if-nez v16, :cond_2e2
 
     const-string v3, "General"
 
@@ -5702,24 +5874,24 @@
 
     iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
 
-    :goto_204
+    :goto_22e
     move-object/from16 v0, p0
 
     iget v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationState:I
 
-    const/16 v22, 0x3
+    const/16 v24, 0x3
 
-    move/from16 v0, v22
+    move/from16 v0, v24
 
-    if-ne v3, v0, :cond_a
+    if-ne v3, v0, :cond_22
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v22, "Registration denied, "
+    const-string v24, "Registration denied, "
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v24
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5729,9 +5901,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
 
-    move-object/from16 v22, v0
+    move-object/from16 v24, v0
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v24
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5745,18 +5917,18 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
 
-    :catch_232
+    :catch_25c
     move-exception v13
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v22, "EVENT_POLL_STATE_REGISTRATION_CDMA: error parsing: "
+    const-string v24, "EVENT_POLL_STATE_REGISTRATION_CDMA: error parsing: "
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v24
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5774,82 +5946,142 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto/16 :goto_19d
+    goto/16 :goto_1b5
 
-    :cond_24f
+    :cond_279
     new-instance v3, Ljava/lang/RuntimeException;
 
-    new-instance v22, Ljava/lang/StringBuilder;
+    new-instance v24, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v22 .. v22}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v24 .. v24}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v23, "Warning! Wrong number of parameters returned from RIL_REQUEST_REGISTRATION_STATE: expected 14 or more strings and got "
+    const-string v25, "Warning! Wrong number of parameters returned from RIL_REQUEST_REGISTRATION_STATE: expected 14 or more strings and got "
 
-    invoke-virtual/range {v22 .. v23}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v22
+    move-result-object v24
 
-    move-object/from16 v0, v20
+    move-object/from16 v0, v21
 
     array-length v0, v0
 
-    move/from16 v23, v0
+    move/from16 v25, v0
 
-    invoke-virtual/range {v22 .. v23}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    move-result-object v22
+    move-result-object v24
 
-    const-string v23, " strings"
+    const-string v25, " strings"
 
-    invoke-virtual/range {v22 .. v23}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v22
+    move-result-object v24
 
-    invoke-virtual/range {v22 .. v22}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v22
+    move-result-object v24
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v24
 
     invoke-direct {v3, v0}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
 
     throw v3
 
-    :cond_275
+    :cond_29f
     const/4 v3, 0x0
 
-    goto/16 :goto_1ba
+    goto/16 :goto_1d2
 
-    :cond_278
+    :cond_2a2
     const/4 v3, 0x1
 
-    goto/16 :goto_1ed
+    goto/16 :goto_205
 
-    :cond_27b
-    const/4 v3, 0x1
+    :cond_2a5
+    move-object/from16 v0, p0
 
-    move/from16 v0, v16
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    if-ne v0, v3, :cond_288
+    if-eqz v3, :cond_2d9
 
-    const-string v3, "Authentication Failure"
+    if-eqz v20, :cond_2d9
 
-    move-object/from16 v0, p0
+    invoke-virtual/range {v20 .. v20}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
 
-    iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
+    move-result v3
 
-    goto/16 :goto_204
+    const/16 v24, 0x3
+
+    move/from16 v0, v24
+
+    if-ne v3, v0, :cond_2d9
+
+    new-instance v23, Ljava/util/Random;
+
+    invoke-direct/range {v23 .. v23}, Ljava/util/Random;-><init>()V
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-virtual/range {v23 .. v23}, Ljava/util/Random;->nextInt()I
+
+    move-result v4
+
+    invoke-virtual/range {v23 .. v23}, Ljava/util/Random;->nextInt()I
+
+    move-result v5
 
-    :cond_288
+    invoke-virtual/range {v23 .. v23}, Ljava/util/Random;->nextInt()I
+
+    move-result v6
+
+    invoke-virtual/range {v23 .. v23}, Ljava/util/Random;->nextInt()I
+
+    move-result v7
+
+    invoke-virtual/range {v23 .. v23}, Ljava/util/Random;->nextInt()I
+
+    move-result v8
+
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+
+    goto/16 :goto_226
+
+    :cond_2d9
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+
+    goto/16 :goto_226
+
+    :cond_2e2
+    const/4 v3, 0x1
+
+    move/from16 v0, v16
+
+    if-ne v0, v3, :cond_2ef
+
+    const-string v3, "Authentication Failure"
+
+    move-object/from16 v0, p0
+
+    iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
+
+    goto/16 :goto_22e
+
+    :cond_2ef
     const-string v3, ""
 
     move-object/from16 v0, p0
 
     iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
 
-    goto/16 :goto_204
+    goto/16 :goto_22e
 
-    :sswitch_290
+    :sswitch_2f7
     move-object/from16 v0, p2
 
     iget-object v3, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
@@ -5860,21 +6092,21 @@
 
     check-cast v14, [Ljava/lang/String;
 
-    if-eqz v14, :cond_337
+    if-eqz v14, :cond_3e4
 
     array-length v3, v14
 
-    const/16 v22, 0x3
+    const/16 v24, 0x3
 
-    move/from16 v0, v22
+    move/from16 v0, v24
 
-    if-lt v3, v0, :cond_337
+    if-lt v3, v0, :cond_3e4
 
     const/4 v3, 0x2
 
     aget-object v3, v14, v3
 
-    if-eqz v3, :cond_2c2
+    if-eqz v3, :cond_329
 
     const/4 v3, 0x2
 
@@ -5884,72 +6116,72 @@
 
     move-result v3
 
-    const/16 v22, 0x5
+    const/16 v24, 0x5
 
-    move/from16 v0, v22
+    move/from16 v0, v24
 
-    if-lt v3, v0, :cond_2c2
+    if-lt v3, v0, :cond_329
 
     const-string v3, "00000"
 
-    const/16 v22, 0x2
+    const/16 v24, 0x2
 
-    aget-object v22, v14, v22
+    aget-object v24, v14, v24
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v24
 
     invoke-virtual {v3, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v3
 
-    if-eqz v3, :cond_2fd
+    if-eqz v3, :cond_364
 
-    :cond_2c2
+    :cond_329
     const/4 v3, 0x2
 
-    sget-object v22, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
+    sget-object v24, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
 
-    const-string v23, "00000"
+    const-string v25, "00000"
 
-    invoke-static/range {v22 .. v23}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
+    invoke-static/range {v24 .. v25}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
 
-    move-result-object v22
+    move-result-object v24
 
-    aput-object v22, v14, v3
+    aput-object v24, v14, v3
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v22, "RIL_REQUEST_OPERATOR.response[2], the numeric,  is bad. Using SystemProperties \'"
+    const-string v24, "RIL_REQUEST_OPERATOR.response[2], the numeric,  is bad. Using SystemProperties \'"
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v24
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    sget-object v22, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
+    sget-object v24, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v24
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const-string v22, "\'= "
+    const-string v24, "\'= "
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v24
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const/16 v22, 0x2
+    const/16 v24, 0x2
 
-    aget-object v22, v14, v22
+    aget-object v24, v14, v24
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v24
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5963,78 +6195,150 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
-    :cond_2fd
+    :cond_364
     move-object/from16 v0, p0
 
     iget-boolean v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mIsSubscriptionFromRuim:Z
 
-    if-nez v3, :cond_31c
+    if-nez v3, :cond_3a6
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_38d
+
+    if-eqz v20, :cond_38d
+
+    invoke-virtual/range {v20 .. v20}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    if-eqz v3, :cond_38d
 
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    const/16 v22, 0x0
+    const/16 v24, 0x0
 
-    const/16 v23, 0x1
+    const-string v25, ""
 
-    aget-object v23, v14, v23
+    const-string v26, ""
 
-    const/16 v24, 0x2
+    move-object/from16 v0, v24
 
-    aget-object v24, v14, v24
+    move-object/from16 v1, v25
 
-    move-object/from16 v0, v22
+    move-object/from16 v2, v26
 
-    move-object/from16 v1, v23
+    invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
-    move-object/from16 v2, v24
+    goto/16 :goto_22
+
+    :cond_38d
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
+
+    const/16 v24, 0x0
+
+    const/16 v25, 0x1
+
+    aget-object v25, v14, v25
+
+    const/16 v26, 0x2
+
+    aget-object v26, v14, v26
+
+    move-object/from16 v0, v24
+
+    move-object/from16 v1, v25
+
+    move-object/from16 v2, v26
 
     invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
+
+    :cond_3a6
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_3c9
+
+    if-eqz v20, :cond_3c9
+
+    invoke-virtual/range {v20 .. v20}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    if-eqz v3, :cond_3c9
 
-    :cond_31c
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    const/16 v22, 0x0
+    const-string v24, ""
 
-    aget-object v22, v14, v22
+    const-string v25, ""
 
-    const/16 v23, 0x1
+    const-string v26, ""
 
-    aget-object v23, v14, v23
+    move-object/from16 v0, v24
 
-    const/16 v24, 0x2
+    move-object/from16 v1, v25
+
+    move-object/from16 v2, v26
+
+    invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_22
+
+    :cond_3c9
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
+
+    const/16 v24, 0x0
 
     aget-object v24, v14, v24
 
-    move-object/from16 v0, v22
+    const/16 v25, 0x1
 
-    move-object/from16 v1, v23
+    aget-object v25, v14, v25
 
-    move-object/from16 v2, v24
+    const/16 v26, 0x2
+
+    aget-object v26, v14, v26
+
+    move-object/from16 v0, v24
+
+    move-object/from16 v1, v25
+
+    move-object/from16 v2, v26
 
     invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
 
-    :cond_337
+    :cond_3e4
     const-string v3, "EVENT_POLL_STATE_OPERATOR_CDMA: error parsing opNames"
 
     move-object/from16 v0, p0
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
+
+    nop
 
-    :sswitch_data_340
+    :sswitch_data_3ee
     .sparse-switch
-        0x5 -> :sswitch_b
-        0x18 -> :sswitch_d0
-        0x19 -> :sswitch_290
+        0x5 -> :sswitch_23
+        0x18 -> :sswitch_e8
+        0x19 -> :sswitch_2f7
     .end sparse-switch
 .end method
 
@@ -6589,83 +6893,83 @@
 .end method
 
 .method protected pollStateDone()V
-    .registers 28
+    .registers 29
 
-    new-instance v23, Ljava/lang/StringBuilder;
+    new-instance v24, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v24 .. v24}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v24, "pollStateDone: cdma oldSS=["
+    const-string v25, "pollStateDone: cdma oldSS=["
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    const-string v24, "] newSS=["
+    const-string v25, "] newSS=["
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    const-string v24, "]"
+    const-string v25, "]"
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
-    sget-boolean v23, Landroid/os/Build;->IS_DEBUGGABLE:Z
+    sget-boolean v24, Landroid/os/Build;->IS_DEBUGGABLE:Z
 
-    if-eqz v23, :cond_4f
+    if-eqz v24, :cond_4f
 
-    const-string v23, "telephony.test.forceRoaming"
+    const-string v24, "telephony.test.forceRoaming"
 
-    const/16 v24, 0x0
+    const/16 v25, 0x0
 
-    invoke-static/range {v23 .. v24}, Landroid/os/SystemProperties;->getBoolean(Ljava/lang/String;Z)Z
+    invoke-static/range {v24 .. v25}, Landroid/os/SystemProperties;->getBoolean(Ljava/lang/String;Z)Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_4f
+    if-eqz v24, :cond_4f
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const/16 v24, 0x1
+    const/16 v25, 0x1
 
-    invoke-virtual/range {v23 .. v24}, Landroid/telephony/ServiceState;->setRoaming(Z)V
+    invoke-virtual/range {v24 .. v25}, Landroid/telephony/ServiceState;->setRoaming(Z)V
 
     :cond_4f
     invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->useDataRegStateForDataOnlyDevices()V
@@ -6674,25 +6978,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getVoiceRegState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getVoiceRegState()I
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_342
+    if-eqz v24, :cond_360
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getVoiceRegState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getVoiceRegState()I
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_342
+    if-nez v24, :cond_360
 
     const/4 v13, 0x1
 
@@ -6701,25 +7005,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getVoiceRegState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getVoiceRegState()I
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_345
+    if-nez v24, :cond_363
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getVoiceRegState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getVoiceRegState()I
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_345
+    if-eqz v24, :cond_363
 
     const/4 v11, 0x1
 
@@ -6728,25 +7032,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getDataRegState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getDataRegState()I
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_348
+    if-eqz v24, :cond_366
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getDataRegState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getDataRegState()I
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_348
+    if-nez v24, :cond_366
 
     const/4 v7, 0x1
 
@@ -6755,25 +7059,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getDataRegState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getDataRegState()I
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_34b
+    if-nez v24, :cond_369
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getDataRegState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getDataRegState()I
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_34b
+    if-eqz v24, :cond_369
 
     const/4 v9, 0x1
 
@@ -6782,27 +7086,27 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getDataRegState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getDataRegState()I
 
-    move-result v23
+    move-result v24
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getDataRegState()I
+    invoke-virtual/range {v25 .. v25}, Landroid/telephony/ServiceState;->getDataRegState()I
 
-    move-result v24
+    move-result v25
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
-    if-eq v0, v1, :cond_34e
+    if-eq v0, v1, :cond_36c
 
     const/4 v8, 0x1
 
@@ -6811,27 +7115,27 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRilDataRadioTechnology()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRilDataRadioTechnology()I
 
-    move-result v23
+    move-result v24
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRilDataRadioTechnology()I
+    invoke-virtual/range {v25 .. v25}, Landroid/telephony/ServiceState;->getRilDataRadioTechnology()I
 
-    move-result v24
+    move-result v25
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
-    if-eq v0, v1, :cond_351
+    if-eq v0, v1, :cond_36f
 
     const/4 v14, 0x1
 
@@ -6840,19 +7144,19 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Landroid/telephony/ServiceState;->equals(Ljava/lang/Object;)Z
+    invoke-virtual/range {v24 .. v25}, Landroid/telephony/ServiceState;->equals(Ljava/lang/Object;)Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_354
+    if-nez v24, :cond_372
 
     const/4 v10, 0x1
 
@@ -6861,25 +7165,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_357
+    if-nez v24, :cond_375
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_357
+    if-eqz v24, :cond_375
 
     const/16 v16, 0x1
 
@@ -6888,25 +7192,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_35b
+    if-eqz v24, :cond_379
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_35b
+    if-nez v24, :cond_379
 
     const/4 v15, 0x1
 
@@ -6915,19 +7219,19 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Landroid/telephony/cdma/CdmaCellLocation;->equals(Ljava/lang/Object;)Z
+    invoke-virtual/range {v24 .. v25}, Landroid/telephony/cdma/CdmaCellLocation;->equals(Ljava/lang/Object;)Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_35e
+    if-nez v24, :cond_37c
 
     const/4 v12, 0x1
 
@@ -6936,25 +7240,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getVoiceRegState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getVoiceRegState()I
 
-    move-result v23
+    move-result v24
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getVoiceRegState()I
+    invoke-virtual/range {v25 .. v25}, Landroid/telephony/ServiceState;->getVoiceRegState()I
 
-    move-result v24
+    move-result v25
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
     if-ne v0, v1, :cond_179
 
@@ -6962,133 +7266,133 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getDataRegState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getDataRegState()I
 
-    move-result v23
+    move-result v24
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getDataRegState()I
+    invoke-virtual/range {v25 .. v25}, Landroid/telephony/ServiceState;->getDataRegState()I
 
-    move-result v24
+    move-result v25
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
     if-eq v0, v1, :cond_1cf
 
     :cond_179
-    const v23, 0xc3c4
+    const v24, 0xc3c4
 
-    const/16 v24, 0x4
+    const/16 v25, 0x4
 
-    move/from16 v0, v24
+    move/from16 v0, v25
 
     new-array v0, v0, [Ljava/lang/Object;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    const/16 v25, 0x0
+    const/16 v26, 0x0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v26, v0
+    move-object/from16 v27, v0
 
-    invoke-virtual/range {v26 .. v26}, Landroid/telephony/ServiceState;->getVoiceRegState()I
+    invoke-virtual/range {v27 .. v27}, Landroid/telephony/ServiceState;->getVoiceRegState()I
 
-    move-result v26
+    move-result v27
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    const/16 v25, 0x1
+    const/16 v26, 0x1
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v26, v0
+    move-object/from16 v27, v0
 
-    invoke-virtual/range {v26 .. v26}, Landroid/telephony/ServiceState;->getDataRegState()I
+    invoke-virtual/range {v27 .. v27}, Landroid/telephony/ServiceState;->getDataRegState()I
 
-    move-result v26
+    move-result v27
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    const/16 v25, 0x2
+    const/16 v26, 0x2
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v26, v0
+    move-object/from16 v27, v0
 
-    invoke-virtual/range {v26 .. v26}, Landroid/telephony/ServiceState;->getVoiceRegState()I
+    invoke-virtual/range {v27 .. v27}, Landroid/telephony/ServiceState;->getVoiceRegState()I
 
-    move-result v26
+    move-result v27
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    const/16 v25, 0x3
+    const/16 v26, 0x3
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v26, v0
+    move-object/from16 v27, v0
 
-    invoke-virtual/range {v26 .. v26}, Landroid/telephony/ServiceState;->getDataRegState()I
+    invoke-virtual/range {v27 .. v27}, Landroid/telephony/ServiceState;->getDataRegState()I
 
-    move-result v26
+    move-result v27
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    invoke-static/range {v23 .. v24}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
+    invoke-static/range {v24 .. v25}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
 
     :cond_1cf
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v22, v0
+    move-object/from16 v23, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     move-object/from16 v1, p0
 
     iput-object v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v23
 
     move-object/from16 v1, p0
 
@@ -7098,29 +7402,29 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->setStateOutOfService()V
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->setStateOutOfService()V
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v21, v0
+    move-object/from16 v22, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     move-object/from16 v1, p0
 
     iput-object v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v0, v21
+    move-object/from16 v0, v22
 
     move-object/from16 v1, p0
 
@@ -7130,9 +7434,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->setStateOutOfService()V
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->setStateOutOfService()V
 
     if-eqz v14, :cond_22c
 
@@ -7140,25 +7444,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mPhone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.network.type"
+    const-string v25, "gsm.network.type"
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v25, v0
+    move-object/from16 v26, v0
 
-    invoke-virtual/range {v25 .. v25}, Landroid/telephony/ServiceState;->getRilDataRadioTechnology()I
+    invoke-virtual/range {v26 .. v26}, Landroid/telephony/ServiceState;->getRilDataRadioTechnology()I
 
-    move-result v25
+    move-result v26
 
-    invoke-static/range {v25 .. v25}, Landroid/telephony/ServiceState;->rilRadioTechnologyToString(I)Ljava/lang/String;
+    invoke-static/range {v26 .. v26}, Landroid/telephony/ServiceState;->rilRadioTechnologyToString(I)Ljava/lang/String;
 
-    move-result-object v25
+    move-result-object v26
 
-    invoke-virtual/range {v23 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v26}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
     :cond_22c
     if-eqz v13, :cond_237
@@ -7167,96 +7471,126 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNetworkAttachedRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
     :cond_237
-    if-eqz v10, :cond_2fb
+    if-eqz v10, :cond_319
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-interface/range {v23 .. v23}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
+    invoke-interface/range {v24 .. v24}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_272
+    if-eqz v24, :cond_290
 
     move-object/from16 v0, p0
 
     iget-boolean v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mIsSubscriptionFromRuim:Z
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-nez v23, :cond_272
+    if-nez v24, :cond_290
 
     move-object/from16 v0, p0
 
-    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getVoiceRegState()I
+    move-object/from16 v0, p0
 
-    move-result v23
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    move-object/from16 v25, v0
+
+    invoke-virtual/range {v25 .. v25}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v25
 
-    if-nez v23, :cond_361
+    const/16 v26, 0x0
+
+    invoke-virtual/range {v24 .. v26}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v21
 
     move-object/from16 v0, p0
 
-    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mPhone:Lcom/android/internal/telephony/cdma/CDMAPhone;
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getCdmaEriText()Ljava/lang/String;
+    if-eqz v24, :cond_396
 
-    move-result-object v5
+    if-eqz v21, :cond_396
+
+    invoke-virtual/range {v21 .. v21}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v24
+
+    if-eqz v24, :cond_396
 
-    :goto_267
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    move-object/from16 v0, v23
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getVoiceRegState()I
+
+    move-result v24
+
+    if-nez v24, :cond_37f
+
+    const-string v5, ""
+
+    :goto_285
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
+
+    move-object/from16 v24, v0
+
+    move-object/from16 v0, v24
 
     invoke-virtual {v0, v5}, Landroid/telephony/ServiceState;->setOperatorAlphaLong(Ljava/lang/String;)V
 
-    :cond_272
+    :cond_290
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mPhone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.alpha"
+    const-string v25, "gsm.operator.alpha"
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v25, v0
+    move-object/from16 v26, v0
 
-    invoke-virtual/range {v25 .. v25}, Landroid/telephony/ServiceState;->getOperatorAlphaLong()Ljava/lang/String;
+    invoke-virtual/range {v26 .. v26}, Landroid/telephony/ServiceState;->getOperatorAlphaLong()Ljava/lang/String;
 
-    move-result-object v25
+    move-result-object v26
 
-    invoke-virtual/range {v23 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v26}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    const-string v23, "gsm.operator.numeric"
+    const-string v24, "gsm.operator.numeric"
 
-    const-string v24, ""
+    const-string v25, ""
 
-    invoke-static/range {v23 .. v24}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
+    invoke-static/range {v24 .. v25}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
 
     move-result-object v20
 
@@ -7264,9 +7598,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
 
     move-result-object v19
 
@@ -7274,25 +7608,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mPhone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.numeric"
+    const-string v25, "gsm.operator.numeric"
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
-    move-object/from16 v1, v24
+    move-object/from16 v1, v25
 
     move-object/from16 v2, v19
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    if-nez v19, :cond_378
+    if-nez v19, :cond_3c5
 
-    const-string v23, "operatorNumeric is null"
+    const-string v24, "operatorNumeric is null"
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
@@ -7300,52 +7634,52 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mPhone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.iso-country"
+    const-string v25, "gsm.operator.iso-country"
 
-    const-string v25, ""
+    const-string v26, ""
 
-    invoke-virtual/range {v23 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v26}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    const/16 v23, 0x0
+    const/16 v24, 0x0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
     iput-boolean v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mGotCountryCode:Z
 
-    :cond_2ca
-    :goto_2ca
+    :cond_2e8
+    :goto_2e8
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mPhone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    const-string v25, "gsm.operator.isroaming"
+    const-string v26, "gsm.operator.isroaming"
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_418
+    if-eqz v24, :cond_465
 
-    const-string v23, "true"
+    const-string v24, "true"
 
-    :goto_2e0
-    move-object/from16 v0, v24
+    :goto_2fe
+    move-object/from16 v0, v25
 
-    move-object/from16 v1, v25
+    move-object/from16 v1, v26
 
-    move-object/from16 v2, v23
+    move-object/from16 v2, v24
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
@@ -7355,226 +7689,274 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mPhone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyServiceStateChanged(Landroid/telephony/ServiceState;)V
+    invoke-virtual/range {v24 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyServiceStateChanged(Landroid/telephony/ServiceState;)V
 
-    :cond_2fb
-    if-eqz v7, :cond_306
+    :cond_319
+    if-eqz v7, :cond_324
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mAttachedRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_306
-    if-eqz v9, :cond_311
+    :cond_324
+    if-eqz v9, :cond_32f
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDetachedRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_311
-    if-nez v8, :cond_315
+    :cond_32f
+    if-nez v8, :cond_333
 
-    if-eqz v14, :cond_320
+    if-eqz v14, :cond_33e
 
-    :cond_315
+    :cond_333
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mPhone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const/16 v24, 0x0
+    const/16 v25, 0x0
 
-    invoke-virtual/range {v23 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyDataConnection(Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyDataConnection(Ljava/lang/String;)V
 
-    :cond_320
-    if-eqz v16, :cond_32b
+    :cond_33e
+    if-eqz v16, :cond_349
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRoamingOnRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_32b
-    if-eqz v15, :cond_336
+    :cond_349
+    if-eqz v15, :cond_354
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRoamingOffRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_336
-    if-eqz v12, :cond_341
+    :cond_354
+    if-eqz v12, :cond_35f
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mPhone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyLocationChanged()V
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyLocationChanged()V
 
-    :cond_341
+    :cond_35f
     return-void
 
-    :cond_342
+    :cond_360
     const/4 v13, 0x0
 
     goto/16 :goto_6b
 
-    :cond_345
+    :cond_363
     const/4 v11, 0x0
 
     goto/16 :goto_84
 
-    :cond_348
+    :cond_366
     const/4 v7, 0x0
 
     goto/16 :goto_9d
 
-    :cond_34b
+    :cond_369
     const/4 v9, 0x0
 
     goto/16 :goto_b6
 
-    :cond_34e
+    :cond_36c
     const/4 v8, 0x0
 
     goto/16 :goto_d1
 
-    :cond_351
+    :cond_36f
     const/4 v14, 0x0
 
     goto/16 :goto_ec
 
-    :cond_354
+    :cond_372
     const/4 v10, 0x0
 
     goto/16 :goto_ff
 
-    :cond_357
+    :cond_375
     const/16 v16, 0x0
 
     goto/16 :goto_119
 
-    :cond_35b
+    :cond_379
     const/4 v15, 0x0
 
     goto/16 :goto_132
 
-    :cond_35e
+    :cond_37c
     const/4 v12, 0x0
 
     goto/16 :goto_145
 
-    :cond_361
+    :cond_37f
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mPhone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
+
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
+
+    move-result-object v24
+
+    const v25, 0x10400c4
+
+    invoke-virtual/range {v24 .. v25}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
+
+    move-result-object v24
+
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/Object;->toString()Ljava/lang/String;
+
+    move-result-object v5
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
+    goto/16 :goto_285
 
-    move-result-object v23
+    :cond_396
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
+
+    move-object/from16 v24, v0
+
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getVoiceRegState()I
+
+    move-result v24
+
+    if-nez v24, :cond_3ae
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mPhone:Lcom/android/internal/telephony/cdma/CDMAPhone;
+
+    move-object/from16 v24, v0
+
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getCdmaEriText()Ljava/lang/String;
+
+    move-result-object v5
 
-    const v24, 0x10400c4
+    goto/16 :goto_285
 
-    invoke-virtual/range {v23 .. v24}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
+    :cond_3ae
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mPhone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-result-object v23
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/Object;->toString()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
+
+    move-result-object v24
+
+    const v25, 0x10400c4
+
+    invoke-virtual/range {v24 .. v25}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
+
+    move-result-object v24
+
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/Object;->toString()Ljava/lang/String;
 
     move-result-object v5
 
-    goto/16 :goto_267
+    goto/16 :goto_285
 
-    :cond_378
+    :cond_3c5
     const-string v17, ""
 
-    const/16 v23, 0x0
+    const/16 v24, 0x0
 
-    const/16 v24, 0x3
+    const/16 v25, 0x3
 
     move-object/from16 v0, v19
 
-    move/from16 v1, v23
+    move/from16 v1, v24
 
-    move/from16 v2, v24
+    move/from16 v2, v25
 
     invoke-virtual {v0, v1, v2}, Ljava/lang/String;->substring(II)Ljava/lang/String;
 
     move-result-object v18
 
-    const/16 v23, 0x0
+    const/16 v24, 0x0
 
-    const/16 v24, 0x3
+    const/16 v25, 0x3
 
-    :try_start_38c
+    :try_start_3d9
     move-object/from16 v0, v19
 
-    move/from16 v1, v23
+    move/from16 v1, v24
 
-    move/from16 v2, v24
+    move/from16 v2, v25
 
     invoke-virtual {v0, v1, v2}, Ljava/lang/String;->substring(II)Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-static/range {v23 .. v23}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    invoke-static/range {v24 .. v24}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
-    move-result v23
+    move-result v24
 
-    invoke-static/range {v23 .. v23}, Lcom/android/internal/telephony/MccTable;->countryCodeForMcc(I)Ljava/lang/String;
-    :try_end_39d
-    .catch Ljava/lang/NumberFormatException; {:try_start_38c .. :try_end_39d} :catch_3dc
-    .catch Ljava/lang/StringIndexOutOfBoundsException; {:try_start_38c .. :try_end_39d} :catch_3fa
+    invoke-static/range {v24 .. v24}, Lcom/android/internal/telephony/MccTable;->countryCodeForMcc(I)Ljava/lang/String;
+    :try_end_3ea
+    .catch Ljava/lang/NumberFormatException; {:try_start_3d9 .. :try_end_3ea} :catch_429
+    .catch Ljava/lang/StringIndexOutOfBoundsException; {:try_start_3d9 .. :try_end_3ea} :catch_447
 
     move-result-object v17
 
-    :goto_39e
+    :goto_3eb
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mPhone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.iso-country"
+    const-string v25, "gsm.operator.iso-country"
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
-    move-object/from16 v1, v24
+    move-object/from16 v1, v25
 
     move-object/from16 v2, v17
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    const/16 v23, 0x1
+    const/16 v24, 0x1
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
@@ -7584,29 +7966,29 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mPhone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-boolean v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNeedFixZone:Z
 
-    move/from16 v24, v0
+    move/from16 v25, v0
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     move-object/from16 v2, v19
 
     move-object/from16 v3, v20
 
-    move/from16 v4, v24
+    move/from16 v4, v25
 
     invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->shouldFixTimeZoneNow(Lcom/android/internal/telephony/PhoneBase;Ljava/lang/String;Ljava/lang/String;Z)Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_2ca
+    if-eqz v24, :cond_2e8
 
     move-object/from16 v0, p0
 
@@ -7614,74 +7996,74 @@
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->fixTimeZone(Ljava/lang/String;)V
 
-    goto/16 :goto_2ca
+    goto/16 :goto_2e8
 
-    :catch_3dc
+    :catch_429
     move-exception v6
 
-    new-instance v23, Ljava/lang/StringBuilder;
+    new-instance v24, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v24 .. v24}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v24, "pollStateDone: countryCodeForMcc error"
+    const-string v25, "pollStateDone: countryCodeForMcc error"
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     invoke-virtual {v0, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto :goto_39e
+    goto :goto_3eb
 
-    :catch_3fa
+    :catch_447
     move-exception v6
 
-    new-instance v23, Ljava/lang/StringBuilder;
+    new-instance v24, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v24 .. v24}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v24, "pollStateDone: countryCodeForMcc error"
+    const-string v25, "pollStateDone: countryCodeForMcc error"
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     invoke-virtual {v0, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto :goto_39e
+    goto :goto_3eb
 
-    :cond_418
-    const-string v23, "false"
+    :cond_465
+    const-string v24, "false"
 
-    goto/16 :goto_2e0
+    goto/16 :goto_2fe
 .end method
 
 .method protected radioTechnologyToDataServiceState(I)I
diff -Npru stock-telephony-common/smali/com/android/internal/telephony/cdma/CdmaSMSDispatcher$1.smali pdroid-telephony-common/smali/com/android/internal/telephony/cdma/CdmaSMSDispatcher$1.smali
--- stock-telephony-common/smali/com/android/internal/telephony/cdma/CdmaSMSDispatcher$1.smali	2013-08-10 13:27:34.962143522 -0700
+++ pdroid-telephony-common/smali/com/android/internal/telephony/cdma/CdmaSMSDispatcher$1.smali	2013-08-10 13:27:36.470143586 -0700
@@ -252,7 +252,7 @@
 
     invoke-interface {v11, v12, v13}, Lcom/android/internal/telephony/CommandsInterface;->sendCdmaSms([BLandroid/os/Message;)V
     :try_end_d1
-    .catchall {:try_start_79 .. :try_end_d1} :catchall_e6
+    .catchall {:try_start_79 .. :try_end_d1} :catchall_e9
     .catch Ljava/io/IOException; {:try_start_79 .. :try_end_d1} :catch_d9
 
     :try_start_d1
@@ -277,28 +277,33 @@
 
     invoke-static {v11, v12, v4}, Landroid/telephony/Rlog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_e1
-    .catchall {:try_start_da .. :try_end_e1} :catchall_e6
+    .catchall {:try_start_da .. :try_end_e1} :catchall_e9
 
     :try_start_e1
     invoke-virtual {v3}, Ljava/io/DataOutputStream;->close()V
     :try_end_e4
-    .catch Ljava/io/IOException; {:try_start_e1 .. :try_end_e4} :catch_d6
+    .catch Ljava/io/IOException; {:try_start_e1 .. :try_end_e4} :catch_e6
 
     goto/16 :goto_25
 
-    :catchall_e6
+    :catch_e6
     move-exception v11
 
-    :try_start_e7
+    goto/16 :goto_25
+
+    :catchall_e9
+    move-exception v11
+
+    :try_start_ea
     invoke-virtual {v3}, Ljava/io/DataOutputStream;->close()V
-    :try_end_ea
-    .catch Ljava/io/IOException; {:try_start_e7 .. :try_end_ea} :catch_eb
+    :try_end_ed
+    .catch Ljava/io/IOException; {:try_start_ea .. :try_end_ed} :catch_ee
 
-    :goto_ea
+    :goto_ed
     throw v11
 
-    :catch_eb
+    :catch_ee
     move-exception v12
 
-    goto :goto_ea
+    goto :goto_ed
 .end method
diff -Npru stock-telephony-common/smali/com/android/internal/telephony/gsm/GSMPhone.smali pdroid-telephony-common/smali/com/android/internal/telephony/gsm/GSMPhone.smali
--- stock-telephony-common/smali/com/android/internal/telephony/gsm/GSMPhone.smali	2013-08-10 13:27:35.142143530 -0700
+++ pdroid-telephony-common/smali/com/android/internal/telephony/gsm/GSMPhone.smali	2013-08-10 13:27:36.010143566 -0700
@@ -3253,7 +3253,7 @@
     return-void
 .end method
 
-.method notifyLocationChanged()V
+.method public notifyLocationChanged()V
     .registers 2
 
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/GSMPhone;->mNotifier:Lcom/android/internal/telephony/PhoneNotifier;
@@ -3271,7 +3271,7 @@
     return-void
 .end method
 
-.method notifyPhoneStateChanged()V
+.method public notifyPhoneStateChanged()V
     .registers 2
 
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/GSMPhone;->mNotifier:Lcom/android/internal/telephony/PhoneNotifier;
diff -Npru stock-telephony-common/smali/com/android/internal/telephony/gsm/GsmServiceStateTracker.smali pdroid-telephony-common/smali/com/android/internal/telephony/gsm/GsmServiceStateTracker.smali
--- stock-telephony-common/smali/com/android/internal/telephony/gsm/GsmServiceStateTracker.smali	2013-08-10 13:27:35.218143533 -0700
+++ pdroid-telephony-common/smali/com/android/internal/telephony/gsm/GsmServiceStateTracker.smali	2013-08-10 13:27:36.670143594 -0700
@@ -42,6 +42,8 @@
 
 .field mCellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
+.field private mContext:Landroid/content/Context;
+
 .field private mCr:Landroid/content/ContentResolver;
 
 .field private mCurPlmn:Ljava/lang/String;
@@ -100,6 +102,8 @@
 
 .field private mZoneTime:J
 
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 
 # direct methods
 .method public constructor <init>(Lcom/android/internal/telephony/gsm/GSMPhone;)V
@@ -314,6 +318,30 @@
 
     invoke-virtual {v3, v4, v1}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;)Landroid/content/Intent;
 
+    invoke-virtual {p1}, Lcom/android/internal/telephony/gsm/GSMPhone;->getContext()Landroid/content/Context;
+
+    move-result-object v3
+
+    iput-object v3, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mContext:Landroid/content/Context;
+
+    new-instance v3, Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v4, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mContext:Landroid/content/Context;
+
+    const-string v5, "privacy"
+
+    invoke-static {v5}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v5
+
+    invoke-static {v5}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v5
+
+    invoke-direct {v3, v4, v5}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v3, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
     const/4 v3, 0x3
 
     invoke-virtual {p1, v3}, Lcom/android/internal/telephony/gsm/GSMPhone;->notifyOtaspChanged(I)V
@@ -5625,1478 +5653,2068 @@
 .end method
 
 .method public handleMessage(Landroid/os/Message;)V
-    .registers 19
+    .registers 23
 
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPhone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPhone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    iget-boolean v13, v13, Lcom/android/internal/telephony/gsm/GSMPhone;->mIsTheCurrentActivePhone:Z
+    move-object/from16 v17, v0
 
-    if-nez v13, :cond_37
+    move-object/from16 v0, v17
 
-    const-string v13, "GsmSST"
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GSMPhone;->mIsTheCurrentActivePhone:Z
 
-    new-instance v14, Ljava/lang/StringBuilder;
+    move/from16 v17, v0
 
-    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+    if-nez v17, :cond_41
 
-    const-string v15, "Received message "
+    const-string v17, "GsmSST"
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    new-instance v18, Ljava/lang/StringBuilder;
 
-    move-result-object v14
+    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
 
-    move-object/from16 v0, p1
+    const-string v19, "Received message "
 
-    invoke-virtual {v14, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v14
+    move-result-object v18
 
-    const-string v15, "["
+    move-object/from16 v0, v18
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    move-object/from16 v1, p1
 
-    move-result-object v14
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    const-string v19, "["
+
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v18
 
     move-object/from16 v0, p1
 
-    iget v15, v0, Landroid/os/Message;->what:I
+    iget v0, v0, Landroid/os/Message;->what:I
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move/from16 v19, v0
 
-    move-result-object v14
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v15, "] while being destroyed. Ignoring."
+    move-result-object v18
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v19, "] while being destroyed. Ignoring."
 
-    move-result-object v14
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    move-result-object v18
 
-    move-result-object v14
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    invoke-static {v13, v14}, Landroid/telephony/Rlog;->e(Ljava/lang/String;Ljava/lang/String;)I
+    move-result-object v18
 
-    :cond_36
-    :goto_36
-    :pswitch_36
+    invoke-static/range {v17 .. v18}, Landroid/telephony/Rlog;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    :cond_40
+    :goto_40
+    :pswitch_40
     return-void
 
-    :cond_37
+    :cond_41
     move-object/from16 v0, p1
 
-    iget v13, v0, Landroid/os/Message;->what:I
+    iget v0, v0, Landroid/os/Message;->what:I
 
-    packed-switch v13, :pswitch_data_260
+    move/from16 v17, v0
 
-    :pswitch_3e
+    packed-switch v17, :pswitch_data_36e
+
+    :pswitch_4a
     invoke-super/range {p0 .. p1}, Lcom/android/internal/telephony/ServiceStateTracker;->handleMessage(Landroid/os/Message;)V
 
-    goto :goto_36
+    goto :goto_40
 
-    :pswitch_42
+    :pswitch_4e
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
+
+    move-object/from16 v17, v0
 
-    invoke-interface {v13}, Lcom/android/internal/telephony/CommandsInterface;->setCurrentPreferredNetworkType()V
+    invoke-interface/range {v17 .. v17}, Lcom/android/internal/telephony/CommandsInterface;->setCurrentPreferredNetworkType()V
 
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPhone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPhone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    invoke-virtual {v13}, Lcom/android/internal/telephony/gsm/GSMPhone;->getContext()Landroid/content/Context;
+    move-object/from16 v17, v0
 
-    move-result-object v13
+    invoke-virtual/range {v17 .. v17}, Lcom/android/internal/telephony/gsm/GSMPhone;->getContext()Landroid/content/Context;
 
-    invoke-virtual {v13}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
+    move-result-object v17
 
-    move-result-object v13
+    invoke-virtual/range {v17 .. v17}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
-    const v14, 0x1110039
+    move-result-object v17
 
-    invoke-virtual {v13, v14}, Landroid/content/res/Resources;->getBoolean(I)Z
+    const v18, 0x1110039
 
-    move-result v10
+    invoke-virtual/range {v17 .. v18}, Landroid/content/res/Resources;->getBoolean(I)Z
+
+    move-result v13
 
-    if-nez v10, :cond_66
+    if-nez v13, :cond_79
 
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPhone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPhone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    const/4 v14, 0x0
+    move-object/from16 v17, v0
+
+    const/16 v18, 0x0
 
-    invoke-virtual {v13, v14}, Lcom/android/internal/telephony/gsm/GSMPhone;->restoreSavedNetworkSelection(Landroid/os/Message;)V
+    invoke-virtual/range {v17 .. v18}, Lcom/android/internal/telephony/gsm/GSMPhone;->restoreSavedNetworkSelection(Landroid/os/Message;)V
 
-    :cond_66
+    :cond_79
     invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollState()V
 
     invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->queueNextSignalStrengthPoll()V
 
-    goto :goto_36
+    goto :goto_40
 
-    :pswitch_6d
+    :pswitch_80
     invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->setPowerStateToDesired()V
 
     invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollState()V
 
-    goto :goto_36
+    goto :goto_40
 
-    :pswitch_74
+    :pswitch_87
     invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollState()V
 
-    goto :goto_36
+    goto :goto_40
 
-    :pswitch_78
+    :pswitch_8b
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
 
-    invoke-interface {v13}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
+    move-object/from16 v17, v0
 
-    move-result-object v13
+    invoke-interface/range {v17 .. v17}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
 
-    invoke-virtual {v13}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
+    move-result-object v17
 
-    move-result v13
+    invoke-virtual/range {v17 .. v17}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
+
+    move-result v17
 
-    if-eqz v13, :cond_36
+    if-eqz v17, :cond_40
 
     move-object/from16 v0, p1
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    check-cast v1, Landroid/os/AsyncResult;
+    check-cast v3, Landroid/os/AsyncResult;
 
-    const/4 v13, 0x1
+    const/16 v17, 0x1
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v1, v13}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onSignalStrengthResult(Landroid/os/AsyncResult;Z)Z
+    move/from16 v1, v17
+
+    invoke-virtual {v0, v3, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onSignalStrengthResult(Landroid/os/AsyncResult;Z)Z
 
     invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->queueNextSignalStrengthPoll()V
 
-    goto :goto_36
+    goto :goto_40
 
-    :pswitch_96
+    :pswitch_ae
     move-object/from16 v0, p1
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    check-cast v1, Landroid/os/AsyncResult;
+    check-cast v3, Landroid/os/AsyncResult;
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    iget-object v0, v3, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    if-nez v13, :cond_e9
+    move-object/from16 v17, v0
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    if-nez v17, :cond_143
 
-    check-cast v13, [Ljava/lang/String;
+    iget-object v0, v3, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    move-object v11, v13
+    move-object/from16 v17, v0
 
-    check-cast v11, [Ljava/lang/String;
+    check-cast v17, [Ljava/lang/String;
 
-    const/4 v4, -0x1
+    move-object/from16 v14, v17
 
-    const/4 v2, -0x1
+    check-cast v14, [Ljava/lang/String;
 
-    array-length v13, v11
+    const/4 v6, -0x1
 
-    const/4 v14, 0x3
+    const/4 v4, -0x1
 
-    if-lt v13, v14, :cond_db
+    array-length v0, v14
 
-    const/4 v13, 0x1
+    move/from16 v17, v0
 
-    :try_start_ae
-    aget-object v13, v11, v13
+    const/16 v18, 0x3
 
-    if-eqz v13, :cond_c4
+    move/from16 v0, v17
 
-    const/4 v13, 0x1
+    move/from16 v1, v18
 
-    aget-object v13, v11, v13
+    if-lt v0, v1, :cond_105
 
-    invoke-virtual {v13}, Ljava/lang/String;->length()I
+    const/16 v17, 0x1
 
-    move-result v13
+    :try_start_d3
+    aget-object v17, v14, v17
 
-    if-lez v13, :cond_c4
+    if-eqz v17, :cond_eb
 
-    const/4 v13, 0x1
+    const/16 v17, 0x1
 
-    aget-object v13, v11, v13
+    aget-object v17, v14, v17
 
-    const/16 v14, 0x10
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/String;->length()I
 
-    invoke-static {v13, v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+    move-result v17
 
-    move-result v4
+    if-lez v17, :cond_eb
 
-    :cond_c4
-    const/4 v13, 0x2
+    const/16 v17, 0x1
 
-    aget-object v13, v11, v13
+    aget-object v17, v14, v17
 
-    if-eqz v13, :cond_db
+    const/16 v18, 0x10
 
-    const/4 v13, 0x2
+    invoke-static/range {v17 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
 
-    aget-object v13, v11, v13
+    move-result v6
 
-    invoke-virtual {v13}, Ljava/lang/String;->length()I
+    :cond_eb
+    const/16 v17, 0x2
 
-    move-result v13
+    aget-object v17, v14, v17
 
-    if-lez v13, :cond_db
+    if-eqz v17, :cond_105
 
-    const/4 v13, 0x2
+    const/16 v17, 0x2
 
-    aget-object v13, v11, v13
+    aget-object v17, v14, v17
 
-    const/16 v14, 0x10
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/String;->length()I
 
-    invoke-static {v13, v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
-    :try_end_da
-    .catch Ljava/lang/NumberFormatException; {:try_start_ae .. :try_end_da} :catch_ee
+    move-result v17
 
-    move-result v2
+    if-lez v17, :cond_105
 
-    :cond_db
-    :goto_db
-    move-object/from16 v0, p0
+    const/16 v17, 0x2
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+    aget-object v17, v14, v17
 
-    invoke-virtual {v13, v4, v2}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
+    const/16 v18, 0x10
 
-    move-object/from16 v0, p0
+    invoke-static/range {v17 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+    :try_end_104
+    .catch Ljava/lang/NumberFormatException; {:try_start_d3 .. :try_end_104} :catch_148
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPhone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    move-result v4
 
-    invoke-virtual {v13}, Lcom/android/internal/telephony/gsm/GSMPhone;->notifyLocationChanged()V
+    :cond_105
+    :goto_105
+    move-object/from16 v0, p0
 
-    :cond_e9
-    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->disableSingleLocationUpdate()V
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    goto/16 :goto_36
+    move-object/from16 v17, v0
 
-    :catch_ee
-    move-exception v3
+    move-object/from16 v0, p0
 
-    const-string v13, "GsmSST"
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mContext:Landroid/content/Context;
 
-    new-instance v14, Ljava/lang/StringBuilder;
+    move-object/from16 v18, v0
 
-    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-virtual/range {v18 .. v18}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
 
-    const-string v15, "error parsing location: "
+    move-result-object v18
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const/16 v19, 0x0
 
-    move-result-object v14
+    invoke-virtual/range {v17 .. v19}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
 
-    invoke-virtual {v14, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    move-result-object v12
 
-    move-result-object v14
+    move-object/from16 v0, p0
 
-    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    move-result-object v14
+    move-object/from16 v17, v0
 
-    invoke-static {v13, v14}, Landroid/telephony/Rlog;->w(Ljava/lang/String;Ljava/lang/String;)I
+    if-eqz v17, :cond_164
 
-    goto :goto_db
+    if-eqz v12, :cond_164
 
-    :pswitch_108
-    move-object/from16 v0, p1
+    invoke-virtual {v12}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    move-result v17
+
+    const/16 v18, 0x1
 
-    check-cast v1, Landroid/os/AsyncResult;
+    move/from16 v0, v17
 
-    move-object/from16 v0, p1
+    move/from16 v1, v18
 
-    iget v13, v0, Landroid/os/Message;->what:I
+    if-ne v0, v1, :cond_164
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v13, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->handlePollStateResult(ILandroid/os/AsyncResult;)V
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+
+    move-object/from16 v17, v0
 
-    goto/16 :goto_36
+    invoke-virtual/range {v17 .. v17}, Landroid/telephony/gsm/GsmCellLocation;->setStateInvalid()V
 
-    :pswitch_119
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPhone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    const/4 v14, 0x3
+    move-object/from16 v17, v0
 
-    move-object/from16 v0, p0
+    invoke-virtual/range {v17 .. v17}, Lcom/android/internal/telephony/gsm/GSMPhone;->notifyLocationChanged()V
 
-    invoke-virtual {v0, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(I)Landroid/os/Message;
+    :cond_143
+    :goto_143
+    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->disableSingleLocationUpdate()V
 
-    move-result-object v14
+    goto/16 :goto_40
 
-    invoke-interface {v13, v14}, Lcom/android/internal/telephony/CommandsInterface;->getSignalStrength(Landroid/os/Message;)V
+    :catch_148
+    move-exception v5
 
-    goto/16 :goto_36
+    const-string v17, "GsmSST"
 
-    :pswitch_129
-    move-object/from16 v0, p1
+    new-instance v18, Ljava/lang/StringBuilder;
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
 
-    check-cast v1, Landroid/os/AsyncResult;
+    const-string v19, "error parsing location: "
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    check-cast v13, [Ljava/lang/Object;
+    move-result-object v18
 
-    check-cast v13, [Ljava/lang/Object;
+    move-object/from16 v0, v18
 
-    const/4 v14, 0x0
+    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    aget-object v9, v13, v14
+    move-result-object v18
 
-    check-cast v9, Ljava/lang/String;
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    move-result-object v18
 
-    check-cast v13, [Ljava/lang/Object;
+    invoke-static/range {v17 .. v18}, Landroid/telephony/Rlog;->w(Ljava/lang/String;Ljava/lang/String;)I
 
-    check-cast v13, [Ljava/lang/Object;
+    goto :goto_105
 
-    const/4 v14, 0x1
+    :cond_164
+    move-object/from16 v0, p0
 
-    aget-object v13, v13, v14
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    check-cast v13, Ljava/lang/Long;
+    move-object/from16 v17, v0
 
-    invoke-virtual {v13}, Ljava/lang/Long;->longValue()J
+    if-eqz v17, :cond_19a
 
-    move-result-wide v7
+    if-eqz v12, :cond_19a
 
-    move-object/from16 v0, p0
+    invoke-virtual {v12}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
 
-    invoke-direct {v0, v9, v7, v8}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->setTimeFromNITZString(Ljava/lang/String;J)V
+    move-result v17
 
-    goto/16 :goto_36
+    const/16 v18, 0x3
 
-    :pswitch_150
-    move-object/from16 v0, p1
+    move/from16 v0, v17
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    move/from16 v1, v18
 
-    check-cast v1, Landroid/os/AsyncResult;
+    if-ne v0, v1, :cond_19a
 
-    const/4 v13, 0x1
+    new-instance v16, Ljava/util/Random;
+
+    invoke-direct/range {v16 .. v16}, Ljava/util/Random;-><init>()V
 
     move-object/from16 v0, p0
 
-    iput-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mDontPollSignalStrength:Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
-    const/4 v13, 0x1
+    move-object/from16 v17, v0
 
-    move-object/from16 v0, p0
+    invoke-virtual/range {v16 .. v16}, Ljava/util/Random;->nextInt()I
 
-    invoke-virtual {v0, v1, v13}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onSignalStrengthResult(Landroid/os/AsyncResult;Z)Z
+    move-result v18
 
-    goto/16 :goto_36
+    invoke-virtual/range {v16 .. v16}, Ljava/util/Random;->nextInt()I
 
-    :pswitch_163
-    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->updateSpnDisplay()V
+    move-result v19
 
-    goto/16 :goto_36
+    invoke-virtual/range {v17 .. v19}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
 
-    :pswitch_168
-    move-object/from16 v0, p1
+    move-object/from16 v0, p0
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPhone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    check-cast v1, Landroid/os/AsyncResult;
+    move-object/from16 v17, v0
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    invoke-virtual/range {v17 .. v17}, Lcom/android/internal/telephony/gsm/GSMPhone;->notifyLocationChanged()V
 
-    if-nez v13, :cond_36
+    goto :goto_143
 
+    :cond_19a
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+
+    move-object/from16 v17, v0
 
-    const/16 v14, 0xf
+    move-object/from16 v0, v17
 
-    const/4 v15, 0x0
+    invoke-virtual {v0, v6, v4}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v14, v15}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPhone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    move-result-object v14
+    move-object/from16 v17, v0
 
-    invoke-interface {v13, v14}, Lcom/android/internal/telephony/CommandsInterface;->getVoiceRegistrationState(Landroid/os/Message;)V
+    invoke-virtual/range {v17 .. v17}, Lcom/android/internal/telephony/gsm/GSMPhone;->notifyLocationChanged()V
 
-    goto/16 :goto_36
+    goto :goto_143
 
-    :pswitch_184
+    :pswitch_1af
     move-object/from16 v0, p1
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    check-cast v1, Landroid/os/AsyncResult;
+    check-cast v3, Landroid/os/AsyncResult;
 
-    const/16 v13, 0x15
+    move-object/from16 v0, p1
 
-    iget-object v14, v1, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    iget v0, v0, Landroid/os/Message;->what:I
 
-    move-object/from16 v0, p0
+    move/from16 v17, v0
 
-    invoke-virtual {v0, v13, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
+    move-object/from16 v0, p0
 
-    move-result-object v6
+    move/from16 v1, v17
 
-    move-object/from16 v0, p0
+    invoke-virtual {v0, v1, v3}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->handlePollStateResult(ILandroid/os/AsyncResult;)V
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
+    goto/16 :goto_40
 
+    :pswitch_1c4
     move-object/from16 v0, p0
 
-    iget v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
 
-    invoke-interface {v13, v14, v6}, Lcom/android/internal/telephony/CommandsInterface;->setPreferredNetworkType(ILandroid/os/Message;)V
+    move-object/from16 v17, v0
 
-    goto/16 :goto_36
+    const/16 v18, 0x3
 
-    :pswitch_1a1
-    move-object/from16 v0, p1
+    move-object/from16 v0, p0
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    move/from16 v1, v18
 
-    check-cast v1, Landroid/os/AsyncResult;
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(I)Landroid/os/Message;
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    move-result-object v18
 
-    if-eqz v13, :cond_36
+    invoke-interface/range {v17 .. v18}, Lcom/android/internal/telephony/CommandsInterface;->getSignalStrength(Landroid/os/Message;)V
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    goto/16 :goto_40
 
-    check-cast v13, Landroid/os/Message;
+    :pswitch_1d9
+    move-object/from16 v0, p1
 
-    invoke-static {v13}, Landroid/os/AsyncResult;->forMessage(Landroid/os/Message;)Landroid/os/AsyncResult;
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    move-result-object v13
+    check-cast v3, Landroid/os/AsyncResult;
 
-    iget-object v14, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    iget-object v0, v3, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    iput-object v14, v13, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    move-object/from16 v17, v0
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    check-cast v17, [Ljava/lang/Object;
 
-    check-cast v13, Landroid/os/Message;
+    check-cast v17, [Ljava/lang/Object;
 
-    invoke-virtual {v13}, Landroid/os/Message;->sendToTarget()V
+    const/16 v18, 0x0
 
-    goto/16 :goto_36
+    aget-object v11, v17, v18
 
-    :pswitch_1c0
-    move-object/from16 v0, p1
+    check-cast v11, Ljava/lang/String;
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v0, v3, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    check-cast v1, Landroid/os/AsyncResult;
+    move-object/from16 v17, v0
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    check-cast v17, [Ljava/lang/Object;
 
-    if-nez v13, :cond_1eb
+    check-cast v17, [Ljava/lang/Object;
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    const/16 v18, 0x1
 
-    check-cast v13, [I
+    aget-object v17, v17, v18
 
-    check-cast v13, [I
+    check-cast v17, Ljava/lang/Long;
 
-    const/4 v14, 0x0
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/Long;->longValue()J
 
-    aget v13, v13, v14
+    move-result-wide v9
 
     move-object/from16 v0, p0
 
-    iput v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
+    invoke-direct {v0, v11, v9, v10}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->setTimeFromNITZString(Ljava/lang/String;J)V
 
-    :goto_1d7
-    const/16 v13, 0x14
+    goto/16 :goto_40
 
-    iget-object v14, v1, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    :pswitch_206
+    move-object/from16 v0, p1
 
-    move-object/from16 v0, p0
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    invoke-virtual {v0, v13, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
+    check-cast v3, Landroid/os/AsyncResult;
 
-    move-result-object v6
+    const/16 v17, 0x1
 
-    const/4 v12, 0x7
+    move/from16 v0, v17
 
-    move-object/from16 v0, p0
+    move-object/from16 v1, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mDontPollSignalStrength:Z
 
-    invoke-interface {v13, v12, v6}, Lcom/android/internal/telephony/CommandsInterface;->setPreferredNetworkType(ILandroid/os/Message;)V
+    const/16 v17, 0x1
 
-    goto/16 :goto_36
+    move-object/from16 v0, p0
 
-    :cond_1eb
-    const/4 v13, 0x7
+    move/from16 v1, v17
 
-    move-object/from16 v0, p0
+    invoke-virtual {v0, v3, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onSignalStrengthResult(Landroid/os/AsyncResult;Z)Z
 
-    iput v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
+    goto/16 :goto_40
 
-    goto :goto_1d7
+    :pswitch_21f
+    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->updateSpnDisplay()V
 
-    :pswitch_1f1
-    move-object/from16 v0, p0
+    goto/16 :goto_40
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
+    :pswitch_224
+    move-object/from16 v0, p1
 
-    if-eqz v13, :cond_242
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    move-object/from16 v0, p0
+    check-cast v3, Landroid/os/AsyncResult;
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
+    iget-object v0, v3, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    invoke-virtual {v13}, Landroid/telephony/ServiceState;->getDataRegState()I
+    move-object/from16 v17, v0
 
-    move-result v13
+    if-nez v17, :cond_40
 
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
 
-    invoke-virtual {v14}, Landroid/telephony/ServiceState;->getVoiceRegState()I
+    move-object/from16 v17, v0
 
-    move-result v14
+    const/16 v18, 0xf
+
+    const/16 v19, 0x0
 
     move-object/from16 v0, p0
 
-    invoke-direct {v0, v13, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->isGprsConsistent(II)Z
+    move/from16 v1, v18
 
-    move-result v13
+    move-object/from16 v2, v19
 
-    if-nez v13, :cond_242
+    invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
 
-    move-object/from16 v0, p0
+    move-result-object v18
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPhone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    invoke-interface/range {v17 .. v18}, Lcom/android/internal/telephony/CommandsInterface;->getVoiceRegistrationState(Landroid/os/Message;)V
 
-    invoke-virtual {v13}, Lcom/android/internal/telephony/gsm/GSMPhone;->getCellLocation()Landroid/telephony/CellLocation;
+    goto/16 :goto_40
 
-    move-result-object v5
+    :pswitch_249
+    move-object/from16 v0, p1
 
-    check-cast v5, Landroid/telephony/gsm/GsmCellLocation;
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    const v14, 0xc3bb
+    check-cast v3, Landroid/os/AsyncResult;
 
-    const/4 v13, 0x2
+    const/16 v17, 0x15
 
-    new-array v15, v13, [Ljava/lang/Object;
+    iget-object v0, v3, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    const/4 v13, 0x0
+    move-object/from16 v18, v0
 
     move-object/from16 v0, p0
 
-    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
+    move/from16 v1, v17
 
-    move-object/from16 v16, v0
+    move-object/from16 v2, v18
 
-    invoke-virtual/range {v16 .. v16}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
+    invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
 
-    move-result-object v16
+    move-result-object v8
 
-    aput-object v16, v15, v13
+    move-object/from16 v0, p0
 
-    const/16 v16, 0x1
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
 
-    if-eqz v5, :cond_249
+    move-object/from16 v17, v0
 
-    invoke-virtual {v5}, Landroid/telephony/gsm/GsmCellLocation;->getCid()I
+    move-object/from16 v0, p0
 
-    move-result v13
+    iget v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
 
-    :goto_234
-    invoke-static {v13}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    move/from16 v18, v0
 
-    move-result-object v13
+    move-object/from16 v0, v17
 
-    aput-object v13, v15, v16
+    move/from16 v1, v18
 
-    invoke-static {v14, v15}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
+    invoke-interface {v0, v1, v8}, Lcom/android/internal/telephony/CommandsInterface;->setPreferredNetworkType(ILandroid/os/Message;)V
 
-    const/4 v13, 0x1
+    goto/16 :goto_40
 
-    move-object/from16 v0, p0
+    :pswitch_274
+    move-object/from16 v0, p1
 
-    iput-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mReportedGprsNoReg:Z
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    :cond_242
-    const/4 v13, 0x0
+    check-cast v3, Landroid/os/AsyncResult;
 
-    move-object/from16 v0, p0
+    iget-object v0, v3, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    iput-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mStartedGprsRegCheck:Z
+    move-object/from16 v17, v0
 
-    goto/16 :goto_36
+    if-eqz v17, :cond_40
 
-    :cond_249
-    const/4 v13, -0x1
+    iget-object v0, v3, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    goto :goto_234
+    move-object/from16 v17, v0
 
-    :pswitch_24b
-    const-string v13, "EVENT_RESTRICTED_STATE_CHANGED"
+    check-cast v17, Landroid/os/Message;
 
-    move-object/from16 v0, p0
+    invoke-static/range {v17 .. v17}, Landroid/os/AsyncResult;->forMessage(Landroid/os/Message;)Landroid/os/AsyncResult;
 
-    invoke-virtual {v0, v13}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->log(Ljava/lang/String;)V
+    move-result-object v17
 
-    move-object/from16 v0, p1
+    iget-object v0, v3, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    move-object/from16 v18, v0
 
-    check-cast v1, Landroid/os/AsyncResult;
+    move-object/from16 v0, v18
 
-    move-object/from16 v0, p0
+    move-object/from16 v1, v17
 
-    invoke-direct {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onRestrictedStateChanged(Landroid/os/AsyncResult;)V
+    iput-object v0, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    goto/16 :goto_36
+    iget-object v0, v3, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    nop
+    move-object/from16 v17, v0
 
-    :pswitch_data_260
-    .packed-switch 0x1
-        :pswitch_6d
-        :pswitch_74
-        :pswitch_78
-        :pswitch_108
-        :pswitch_108
-        :pswitch_108
-        :pswitch_3e
-        :pswitch_3e
-        :pswitch_3e
-        :pswitch_119
-        :pswitch_129
-        :pswitch_150
-        :pswitch_36
-        :pswitch_108
-        :pswitch_96
-        :pswitch_163
-        :pswitch_42
-        :pswitch_168
-        :pswitch_1c0
-        :pswitch_184
-        :pswitch_1a1
-        :pswitch_1f1
-        :pswitch_24b
-    .end packed-switch
-.end method
+    check-cast v17, Landroid/os/Message;
 
-.method protected handlePollStateResult(ILandroid/os/AsyncResult;)V
-    .registers 21
+    invoke-virtual/range {v17 .. v17}, Landroid/os/Message;->sendToTarget()V
 
-    move-object/from16 v0, p2
+    goto/16 :goto_40
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    :pswitch_29f
+    move-object/from16 v0, p1
 
-    move-object/from16 v0, p0
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    iget-object v15, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPollingContext:[I
+    check-cast v3, Landroid/os/AsyncResult;
 
-    if-eq v14, v15, :cond_b
+    iget-object v0, v3, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    :cond_a
-    :goto_a
-    return-void
+    move-object/from16 v17, v0
 
-    :cond_b
-    move-object/from16 v0, p2
+    if-nez v17, :cond_2db
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    iget-object v0, v3, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    if-eqz v14, :cond_af
+    move-object/from16 v17, v0
 
-    const/4 v3, 0x0
+    check-cast v17, [I
 
-    move-object/from16 v0, p2
+    check-cast v17, [I
+
+    const/16 v18, 0x0
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    aget v17, v17, v18
 
-    instance-of v14, v14, Lcom/android/internal/telephony/CommandException;
+    move/from16 v0, v17
 
-    if-eqz v14, :cond_26
+    move-object/from16 v1, p0
 
-    move-object/from16 v0, p2
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    :goto_2bd
+    const/16 v17, 0x14
 
-    check-cast v14, Lcom/android/internal/telephony/CommandException;
+    iget-object v0, v3, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    check-cast v14, Lcom/android/internal/telephony/CommandException;
+    move-object/from16 v18, v0
 
-    invoke-virtual {v14}, Lcom/android/internal/telephony/CommandException;->getCommandError()Lcom/android/internal/telephony/CommandException$Error;
+    move-object/from16 v0, p0
 
-    move-result-object v3
+    move/from16 v1, v17
 
-    :cond_26
-    sget-object v14, Lcom/android/internal/telephony/CommandException$Error;->RADIO_NOT_AVAILABLE:Lcom/android/internal/telephony/CommandException$Error;
+    move-object/from16 v2, v18
 
-    if-ne v3, v14, :cond_2e
+    invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cancelPollState()V
+    move-result-object v8
 
-    goto :goto_a
+    const/4 v15, 0x7
 
-    :cond_2e
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
 
-    invoke-interface {v14}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
+    move-object/from16 v17, v0
 
-    move-result-object v14
+    move-object/from16 v0, v17
 
-    invoke-virtual {v14}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
+    invoke-interface {v0, v15, v8}, Lcom/android/internal/telephony/CommandsInterface;->setPreferredNetworkType(ILandroid/os/Message;)V
 
-    move-result v14
+    goto/16 :goto_40
 
-    if-nez v14, :cond_40
+    :cond_2db
+    const/16 v17, 0x7
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cancelPollState()V
+    move/from16 v0, v17
 
-    goto :goto_a
+    move-object/from16 v1, p0
 
-    :cond_40
-    sget-object v14, Lcom/android/internal/telephony/CommandException$Error;->OP_NOT_ALLOWED_BEFORE_REG_NW:Lcom/android/internal/telephony/CommandException$Error;
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
 
-    if-eq v3, v14, :cond_60
+    goto :goto_2bd
 
-    new-instance v14, Ljava/lang/StringBuilder;
+    :pswitch_2e4
+    move-object/from16 v0, p0
 
-    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    const-string v15, "RIL implementation has returned an error where it must succeed"
+    move-object/from16 v17, v0
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    if-eqz v17, :cond_34a
 
-    move-result-object v14
+    move-object/from16 v0, p0
 
-    move-object/from16 v0, p2
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    iget-object v15, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    move-object/from16 v17, v0
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v17 .. v17}, Landroid/telephony/ServiceState;->getDataRegState()I
 
-    move-result-object v14
+    move-result v17
 
-    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    move-object/from16 v0, p0
 
-    move-result-object v14
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v0, p0
+    move-object/from16 v18, v0
+
+    invoke-virtual/range {v18 .. v18}, Landroid/telephony/ServiceState;->getVoiceRegState()I
 
-    invoke-virtual {v0, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
+    move-result v18
 
-    :cond_60
-    :goto_60
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPollingContext:[I
+    move/from16 v1, v17
 
-    const/4 v15, 0x0
+    move/from16 v2, v18
 
-    aget v16, v14, v15
+    invoke-direct {v0, v1, v2}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->isGprsConsistent(II)Z
 
-    add-int/lit8 v16, v16, -0x1
+    move-result v17
 
-    aput v16, v14, v15
+    if-nez v17, :cond_34a
 
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPollingContext:[I
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPhone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    const/4 v15, 0x0
+    move-object/from16 v17, v0
 
-    aget v14, v14, v15
+    invoke-virtual/range {v17 .. v17}, Lcom/android/internal/telephony/gsm/GSMPhone;->getCellLocation()Landroid/telephony/CellLocation;
 
-    if-nez v14, :cond_a
+    move-result-object v7
 
-    move-object/from16 v0, p0
+    check-cast v7, Landroid/telephony/gsm/GsmCellLocation;
 
-    iget-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
+    const v18, 0xc3bb
 
-    if-nez v14, :cond_80
+    const/16 v17, 0x2
 
-    move-object/from16 v0, p0
+    move/from16 v0, v17
 
-    iget-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mDataRoaming:Z
+    new-array v0, v0, [Ljava/lang/Object;
 
-    if-eqz v14, :cond_2a6
+    move-object/from16 v19, v0
 
-    :cond_80
-    const/4 v11, 0x1
+    const/16 v17, 0x0
 
-    :goto_81
     move-object/from16 v0, p0
 
-    iget-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mSS:Landroid/telephony/ServiceState;
 
-    if-eqz v14, :cond_98
+    move-object/from16 v20, v0
 
-    move-object/from16 v0, p0
+    invoke-virtual/range {v20 .. v20}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
 
-    iget-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
+    move-result-object v20
 
-    move-object/from16 v0, p0
+    aput-object v20, v19, v17
 
-    iget-object v15, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
+    const/16 v20, 0x1
 
-    move-object/from16 v0, p0
+    if-eqz v7, :cond_354
 
-    invoke-direct {v0, v14, v15}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->isRoamingBetweenOperators(ZLandroid/telephony/ServiceState;)Z
+    invoke-virtual {v7}, Landroid/telephony/gsm/GsmCellLocation;->getCid()I
 
-    move-result v14
+    move-result v17
 
-    if-nez v14, :cond_98
+    :goto_339
+    invoke-static/range {v17 .. v17}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    const/4 v11, 0x0
+    move-result-object v17
 
-    :cond_98
-    move-object/from16 v0, p0
+    aput-object v17, v19, v20
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
+    invoke-static/range {v18 .. v19}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
 
-    invoke-virtual {v14, v11}, Landroid/telephony/ServiceState;->setRoaming(Z)V
+    const/16 v17, 0x1
 
-    move-object/from16 v0, p0
+    move/from16 v0, v17
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
+    move-object/from16 v1, p0
 
-    move-object/from16 v0, p0
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mReportedGprsNoReg:Z
 
-    iget-boolean v15, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
+    :cond_34a
+    const/16 v17, 0x0
 
-    invoke-virtual {v14, v15}, Landroid/telephony/ServiceState;->setEmergencyOnly(Z)V
+    move/from16 v0, v17
 
-    invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollStateDone()V
+    move-object/from16 v1, p0
 
-    goto/16 :goto_a
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mStartedGprsRegCheck:Z
 
-    :cond_af
-    sparse-switch p1, :sswitch_data_2aa
+    goto/16 :goto_40
 
-    goto :goto_60
+    :cond_354
+    const/16 v17, -0x1
 
-    :sswitch_b3
-    :try_start_b3
-    move-object/from16 v0, p2
+    goto :goto_339
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    :pswitch_357
+    const-string v17, "EVENT_RESTRICTED_STATE_CHANGED"
 
-    check-cast v14, [Ljava/lang/String;
+    move-object/from16 v0, p0
 
-    move-object v0, v14
+    move-object/from16 v1, v17
 
-    check-cast v0, [Ljava/lang/String;
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->log(Ljava/lang/String;)V
 
-    move-object v12, v0
+    move-object/from16 v0, p1
 
-    const/4 v6, -0x1
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    const/4 v1, -0x1
+    check-cast v3, Landroid/os/AsyncResult;
 
-    const/4 v13, 0x0
+    move-object/from16 v0, p0
 
-    const/4 v10, 0x4
+    invoke-direct {v0, v3}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onRestrictedStateChanged(Landroid/os/AsyncResult;)V
 
-    const/4 v9, -0x1
+    goto/16 :goto_40
 
-    const/4 v8, -0x1
+    nop
 
-    array-length v14, v12
-    :try_end_c4
-    .catch Ljava/lang/RuntimeException; {:try_start_b3 .. :try_end_c4} :catch_171
+    :pswitch_data_36e
+    .packed-switch 0x1
+        :pswitch_80
+        :pswitch_87
+        :pswitch_8b
+        :pswitch_1af
+        :pswitch_1af
+        :pswitch_1af
+        :pswitch_4a
+        :pswitch_4a
+        :pswitch_4a
+        :pswitch_1c4
+        :pswitch_1d9
+        :pswitch_206
+        :pswitch_40
+        :pswitch_1af
+        :pswitch_ae
+        :pswitch_21f
+        :pswitch_4e
+        :pswitch_224
+        :pswitch_29f
+        :pswitch_249
+        :pswitch_274
+        :pswitch_2e4
+        :pswitch_357
+    .end packed-switch
+.end method
 
-    if-lez v14, :cond_12e
+.method protected handlePollStateResult(ILandroid/os/AsyncResult;)V
+    .registers 25
 
-    const/4 v14, 0x0
+    move-object/from16 v0, p2
 
-    :try_start_c7
-    aget-object v14, v12, v14
+    iget-object v0, v0, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    invoke-static {v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    move-object/from16 v18, v0
 
-    move-result v10
+    move-object/from16 v0, p0
 
-    array-length v14, v12
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPollingContext:[I
 
-    const/4 v15, 0x3
+    move-object/from16 v19, v0
 
-    if-lt v14, v15, :cond_10f
+    move-object/from16 v0, v18
 
-    const/4 v14, 0x1
+    move-object/from16 v1, v19
 
-    aget-object v14, v12, v14
+    if-eq v0, v1, :cond_13
 
-    if-eqz v14, :cond_e8
+    :cond_12
+    :goto_12
+    return-void
 
-    const/4 v14, 0x1
+    :cond_13
+    move-object/from16 v0, p2
 
-    aget-object v14, v12, v14
+    iget-object v0, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    invoke-virtual {v14}, Ljava/lang/String;->length()I
+    move-object/from16 v18, v0
 
-    move-result v14
+    if-eqz v18, :cond_e7
 
-    if-lez v14, :cond_e8
+    const/4 v5, 0x0
 
-    const/4 v14, 0x1
+    move-object/from16 v0, p2
 
-    aget-object v14, v12, v14
+    iget-object v0, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    const/16 v15, 0x10
+    move-object/from16 v18, v0
 
-    invoke-static {v14, v15}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+    move-object/from16 v0, v18
 
-    move-result v6
+    instance-of v0, v0, Lcom/android/internal/telephony/CommandException;
 
-    :cond_e8
-    const/4 v14, 0x2
+    move/from16 v18, v0
 
-    aget-object v14, v12, v14
+    if-eqz v18, :cond_38
 
-    if-eqz v14, :cond_ff
+    move-object/from16 v0, p2
 
-    const/4 v14, 0x2
+    iget-object v0, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    aget-object v14, v12, v14
+    move-object/from16 v18, v0
 
-    invoke-virtual {v14}, Ljava/lang/String;->length()I
+    check-cast v18, Lcom/android/internal/telephony/CommandException;
 
-    move-result v14
+    check-cast v18, Lcom/android/internal/telephony/CommandException;
 
-    if-lez v14, :cond_ff
+    invoke-virtual/range {v18 .. v18}, Lcom/android/internal/telephony/CommandException;->getCommandError()Lcom/android/internal/telephony/CommandException$Error;
 
-    const/4 v14, 0x2
+    move-result-object v5
 
-    aget-object v14, v12, v14
+    :cond_38
+    sget-object v18, Lcom/android/internal/telephony/CommandException$Error;->RADIO_NOT_AVAILABLE:Lcom/android/internal/telephony/CommandException$Error;
 
-    const/16 v15, 0x10
+    move-object/from16 v0, v18
 
-    invoke-static {v14, v15}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+    if-ne v5, v0, :cond_42
 
-    move-result v1
+    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cancelPollState()V
 
-    :cond_ff
-    array-length v14, v12
+    goto :goto_12
 
-    const/4 v15, 0x4
+    :cond_42
+    move-object/from16 v0, p0
 
-    if-lt v14, v15, :cond_10f
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mCi:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/4 v14, 0x3
+    move-object/from16 v18, v0
 
-    aget-object v14, v12, v14
+    invoke-interface/range {v18 .. v18}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
 
-    if-eqz v14, :cond_10f
+    move-result-object v18
 
-    const/4 v14, 0x3
+    invoke-virtual/range {v18 .. v18}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
 
-    aget-object v14, v12, v14
+    move-result v18
 
-    invoke-static {v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    if-nez v18, :cond_56
 
-    move-result v13
+    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cancelPollState()V
 
-    :cond_10f
-    array-length v14, v12
+    goto :goto_12
 
-    const/16 v15, 0xe
+    :cond_56
+    sget-object v18, Lcom/android/internal/telephony/CommandException$Error;->OP_NOT_ALLOWED_BEFORE_REG_NW:Lcom/android/internal/telephony/CommandException$Error;
 
-    if-le v14, v15, :cond_12e
+    move-object/from16 v0, v18
 
-    const/16 v14, 0xe
+    if-eq v5, v0, :cond_7c
 
-    aget-object v14, v12, v14
+    new-instance v18, Ljava/lang/StringBuilder;
 
-    if-eqz v14, :cond_12e
+    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
 
-    const/16 v14, 0xe
+    const-string v19, "RIL implementation has returned an error where it must succeed"
 
-    aget-object v14, v12, v14
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v14}, Ljava/lang/String;->length()I
+    move-result-object v18
 
-    move-result v14
+    move-object/from16 v0, p2
 
-    if-lez v14, :cond_12e
+    iget-object v0, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    const/16 v14, 0xe
+    move-object/from16 v19, v0
 
-    aget-object v14, v12, v14
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    const/16 v15, 0x10
+    move-result-object v18
 
-    invoke-static {v14, v15}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
-    :try_end_12d
-    .catch Ljava/lang/NumberFormatException; {:try_start_c7 .. :try_end_12d} :catch_18c
-    .catch Ljava/lang/RuntimeException; {:try_start_c7 .. :try_end_12d} :catch_171
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result v8
+    move-result-object v18
 
-    :cond_12e
-    :goto_12e
-    :try_start_12e
     move-object/from16 v0, p0
 
-    invoke-direct {v0, v10}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeIsRoaming(I)Z
+    move-object/from16 v1, v18
 
-    move-result v14
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
 
+    :cond_7c
+    :goto_7c
     move-object/from16 v0, p0
 
-    iput-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPollingContext:[I
+
+    move-object/from16 v18, v0
+
+    const/16 v19, 0x0
+
+    aget v20, v18, v19
+
+    add-int/lit8 v20, v20, -0x1
+
+    aput v20, v18, v19
 
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPollingContext:[I
+
+    move-object/from16 v18, v0
+
+    const/16 v19, 0x0
+
+    aget v18, v18, v19
+
+    if-nez v18, :cond_12
 
     move-object/from16 v0, p0
 
-    invoke-direct {v0, v10}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeToServiceState(I)I
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
 
-    move-result v15
+    move/from16 v18, v0
 
-    invoke-virtual {v14, v15}, Landroid/telephony/ServiceState;->setState(I)V
+    if-nez v18, :cond_a6
 
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mDataRoaming:Z
 
-    invoke-virtual {v14, v13}, Landroid/telephony/ServiceState;->setRilVoiceRadioTechnology(I)V
+    move/from16 v18, v0
 
-    const/16 v14, 0xd
+    if-eqz v18, :cond_429
 
-    if-eq v10, v14, :cond_15c
+    :cond_a6
+    const/4 v13, 0x1
 
-    const/16 v14, 0xa
+    :goto_a7
+    move-object/from16 v0, p0
 
-    if-eq v10, v14, :cond_15c
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
 
-    const/16 v14, 0xc
+    move/from16 v18, v0
 
-    if-eq v10, v14, :cond_15c
+    if-eqz v18, :cond_c8
 
-    const/16 v14, 0xe
+    move-object/from16 v0, p0
 
-    if-ne v10, v14, :cond_1a6
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
 
-    :cond_15c
-    const/4 v14, 0x1
+    move/from16 v18, v0
 
     move-object/from16 v0, p0
 
-    iput-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
+
+    move-object/from16 v19, v0
 
-    :goto_161
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+    move/from16 v1, v18
+
+    move-object/from16 v2, v19
 
-    invoke-virtual {v14, v6, v1}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
+    invoke-direct {v0, v1, v2}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->isRoamingBetweenOperators(ZLandroid/telephony/ServiceState;)Z
 
+    move-result v18
+
+    if-nez v18, :cond_c8
+
+    const/4 v13, 0x0
+
+    :cond_c8
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    invoke-virtual {v14, v8}, Landroid/telephony/gsm/GsmCellLocation;->setPsc(I)V
-    :try_end_16f
-    .catch Ljava/lang/RuntimeException; {:try_start_12e .. :try_end_16f} :catch_171
+    move-object/from16 v18, v0
 
-    goto/16 :goto_60
+    move-object/from16 v0, v18
 
-    :catch_171
-    move-exception v4
+    invoke-virtual {v0, v13}, Landroid/telephony/ServiceState;->setRoaming(Z)V
 
-    new-instance v14, Ljava/lang/StringBuilder;
+    move-object/from16 v0, p0
 
-    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    const-string v15, "Exception while polling service state. Probably malformed RIL response."
+    move-object/from16 v18, v0
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    move-object/from16 v0, p0
 
-    move-result-object v14
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
 
-    invoke-virtual {v14, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    move/from16 v19, v0
 
-    move-result-object v14
+    invoke-virtual/range {v18 .. v19}, Landroid/telephony/ServiceState;->setEmergencyOnly(Z)V
 
-    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollStateDone()V
 
-    move-result-object v14
+    goto/16 :goto_12
 
+    :cond_e7
+    :try_start_e7
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    goto/16 :goto_60
+    move-object/from16 v18, v0
 
-    :catch_18c
-    move-exception v4
+    move-object/from16 v0, p0
 
-    :try_start_18d
-    new-instance v14, Ljava/lang/StringBuilder;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mContext:Landroid/content/Context;
 
-    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+    move-object/from16 v19, v0
 
-    const-string v15, "error parsing RegistrationState: "
+    invoke-virtual/range {v19 .. v19}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    move-result-object v19
 
-    move-result-object v14
+    const/16 v20, 0x0
 
-    invoke-virtual {v14, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v18 .. v20}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
 
     move-result-object v14
 
-    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    sparse-switch p1, :sswitch_data_42c
 
-    move-result-object v14
+    goto/16 :goto_7c
+
+    :sswitch_102
+    move-object/from16 v0, p2
+
+    iget-object v0, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+
+    move-object/from16 v18, v0
+
+    check-cast v18, [Ljava/lang/String;
+
+    move-object/from16 v0, v18
+
+    check-cast v0, [Ljava/lang/String;
+
+    move-object v15, v0
+
+    const/4 v8, -0x1
+
+    const/4 v3, -0x1
+
+    const/16 v16, 0x0
+
+    const/4 v12, 0x4
+
+    const/4 v11, -0x1
+
+    const/4 v10, -0x1
+
+    array-length v0, v15
+
+    move/from16 v18, v0
+    :try_end_119
+    .catch Ljava/lang/RuntimeException; {:try_start_e7 .. :try_end_119} :catch_214
+
+    if-lez v18, :cond_1a0
+
+    const/16 v18, 0x0
+
+    :try_start_11d
+    aget-object v18, v15, v18
+
+    invoke-static/range {v18 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+
+    move-result v12
+
+    array-length v0, v15
+
+    move/from16 v18, v0
+
+    const/16 v19, 0x3
+
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-lt v0, v1, :cond_17b
+
+    const/16 v18, 0x1
+
+    aget-object v18, v15, v18
+
+    if-eqz v18, :cond_148
+
+    const/16 v18, 0x1
+
+    aget-object v18, v15, v18
+
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/String;->length()I
+
+    move-result v18
+
+    if-lez v18, :cond_148
+
+    const/16 v18, 0x1
+
+    aget-object v18, v15, v18
+
+    const/16 v19, 0x10
 
+    invoke-static/range {v18 .. v19}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+
+    move-result v8
+
+    :cond_148
+    const/16 v18, 0x2
+
+    aget-object v18, v15, v18
+
+    if-eqz v18, :cond_162
+
+    const/16 v18, 0x2
+
+    aget-object v18, v15, v18
+
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/String;->length()I
+
+    move-result v18
+
+    if-lez v18, :cond_162
+
+    const/16 v18, 0x2
+
+    aget-object v18, v15, v18
+
+    const/16 v19, 0x10
+
+    invoke-static/range {v18 .. v19}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+
+    move-result v3
+
+    :cond_162
+    array-length v0, v15
+
+    move/from16 v18, v0
+
+    const/16 v19, 0x4
+
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-lt v0, v1, :cond_17b
+
+    const/16 v18, 0x3
+
+    aget-object v18, v15, v18
+
+    if-eqz v18, :cond_17b
+
+    const/16 v18, 0x3
+
+    aget-object v18, v15, v18
+
+    invoke-static/range {v18 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+
+    move-result v16
+
+    :cond_17b
+    array-length v0, v15
+
+    move/from16 v18, v0
+
+    const/16 v19, 0xe
+
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-le v0, v1, :cond_1a0
+
+    const/16 v18, 0xe
+
+    aget-object v18, v15, v18
+
+    if-eqz v18, :cond_1a0
+
+    const/16 v18, 0xe
+
+    aget-object v18, v15, v18
+
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/String;->length()I
+
+    move-result v18
+
+    if-lez v18, :cond_1a0
+
+    const/16 v18, 0xe
+
+    aget-object v18, v15, v18
+
+    const/16 v19, 0x10
+
+    invoke-static/range {v18 .. v19}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+    :try_end_19f
+    .catch Ljava/lang/NumberFormatException; {:try_start_11d .. :try_end_19f} :catch_233
+    .catch Ljava/lang/RuntimeException; {:try_start_11d .. :try_end_19f} :catch_214
+
+    move-result v10
+
+    :cond_1a0
+    :goto_1a0
+    :try_start_1a0
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
+    invoke-direct {v0, v12}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeIsRoaming(I)Z
 
-    goto :goto_12e
+    move-result v18
 
-    :cond_1a6
-    const/4 v14, 0x0
+    move/from16 v0, v18
+
+    move-object/from16 v1, p0
+
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
 
     move-object/from16 v0, p0
 
-    iput-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    goto :goto_161
+    move-object/from16 v18, v0
 
-    :sswitch_1ac
-    move-object/from16 v0, p2
+    move-object/from16 v0, p0
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    invoke-direct {v0, v12}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeToServiceState(I)I
 
-    check-cast v14, [Ljava/lang/String;
+    move-result v19
 
-    move-object v0, v14
+    invoke-virtual/range {v18 .. v19}, Landroid/telephony/ServiceState;->setState(I)V
 
-    check-cast v0, [Ljava/lang/String;
+    move-object/from16 v0, p0
 
-    move-object v12, v0
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    const/4 v13, 0x0
+    move-object/from16 v18, v0
+
+    move-object/from16 v0, v18
+
+    move/from16 v1, v16
+
+    invoke-virtual {v0, v1}, Landroid/telephony/ServiceState;->setRilVoiceRadioTechnology(I)V
+
+    const/16 v18, 0xd
+
+    move/from16 v0, v18
+
+    if-eq v12, v0, :cond_1e0
+
+    const/16 v18, 0xa
+
+    move/from16 v0, v18
+
+    if-eq v12, v0, :cond_1e0
+
+    const/16 v18, 0xc
+
+    move/from16 v0, v18
+
+    if-eq v12, v0, :cond_1e0
+
+    const/16 v18, 0xe
+
+    move/from16 v0, v18
+
+    if-ne v12, v0, :cond_252
+
+    :cond_1e0
+    const/16 v18, 0x1
+
+    move/from16 v0, v18
 
-    const/4 v10, 0x4
+    move-object/from16 v1, p0
 
-    const/4 v14, -0x1
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
 
+    :goto_1e8
     move-object/from16 v0, p0
 
-    iput v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewReasonDataDenied:I
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    const/4 v14, 0x1
+    move-object/from16 v18, v0
+
+    if-eqz v18, :cond_25b
+
+    if-eqz v14, :cond_25b
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v18
+
+    const/16 v19, 0x1
+
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-ne v0, v1, :cond_25b
 
     move-object/from16 v0, p0
 
-    iput v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewMaxDataCalls:I
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewCellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
-    array-length v14, v12
-    :try_end_1c3
-    .catch Ljava/lang/RuntimeException; {:try_start_18d .. :try_end_1c3} :catch_171
+    move-object/from16 v18, v0
 
-    if-lez v14, :cond_1fd
+    invoke-virtual/range {v18 .. v18}, Landroid/telephony/gsm/GsmCellLocation;->setStateInvalid()V
 
-    const/4 v14, 0x0
+    move-object/from16 v0, p0
 
-    :try_start_1c6
-    aget-object v14, v12, v14
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewCellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
-    invoke-static {v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    move-object/from16 v18, v0
 
-    move-result v10
+    move-object/from16 v0, v18
 
-    array-length v14, v12
+    invoke-virtual {v0, v10}, Landroid/telephony/gsm/GsmCellLocation;->setPsc(I)V
+    :try_end_212
+    .catch Ljava/lang/RuntimeException; {:try_start_1a0 .. :try_end_212} :catch_214
 
-    const/4 v15, 0x4
+    goto/16 :goto_7c
 
-    if-lt v14, v15, :cond_1dc
+    :catch_214
+    move-exception v6
 
-    const/4 v14, 0x3
+    new-instance v18, Ljava/lang/StringBuilder;
 
-    aget-object v14, v12, v14
+    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
 
-    if-eqz v14, :cond_1dc
+    const-string v19, "Exception while polling service state. Probably malformed RIL response."
 
-    const/4 v14, 0x3
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    aget-object v14, v12, v14
+    move-result-object v18
 
-    invoke-static {v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    move-object/from16 v0, v18
 
-    move-result v13
+    invoke-virtual {v0, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    :cond_1dc
-    array-length v14, v12
+    move-result-object v18
 
-    const/4 v15, 0x5
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    if-lt v14, v15, :cond_1ee
+    move-result-object v18
 
-    const/4 v14, 0x3
+    move-object/from16 v0, p0
 
-    if-ne v10, v14, :cond_1ee
+    move-object/from16 v1, v18
 
-    const/4 v14, 0x4
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    aget-object v14, v12, v14
+    goto/16 :goto_7c
 
-    invoke-static {v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    :catch_233
+    move-exception v6
 
-    move-result v14
+    :try_start_234
+    new-instance v18, Ljava/lang/StringBuilder;
+
+    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v19, "error parsing RegistrationState: "
+
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    move-object/from16 v0, v18
+
+    invoke-virtual {v0, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v18
 
     move-object/from16 v0, p0
 
-    iput v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewReasonDataDenied:I
+    move-object/from16 v1, v18
 
-    :cond_1ee
-    array-length v14, v12
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    const/4 v15, 0x6
+    goto/16 :goto_1a0
 
-    if-lt v14, v15, :cond_1fd
+    :cond_252
+    const/16 v18, 0x0
 
-    const/4 v14, 0x5
+    move/from16 v0, v18
 
-    aget-object v14, v12, v14
+    move-object/from16 v1, p0
 
-    invoke-static {v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
 
-    move-result v14
+    goto :goto_1e8
 
+    :cond_25b
     move-object/from16 v0, p0
 
-    iput v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewMaxDataCalls:I
-    :try_end_1fd
-    .catch Ljava/lang/NumberFormatException; {:try_start_1c6 .. :try_end_1fd} :catch_249
-    .catch Ljava/lang/RuntimeException; {:try_start_1c6 .. :try_end_1fd} :catch_171
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v18, v0
+
+    if-eqz v18, :cond_294
+
+    if-eqz v14, :cond_294
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v18
+
+    const/16 v19, 0x3
+
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-ne v0, v1, :cond_294
+
+    new-instance v17, Ljava/util/Random;
+
+    invoke-direct/range {v17 .. v17}, Ljava/util/Random;-><init>()V
 
-    :cond_1fd
-    :goto_1fd
-    :try_start_1fd
     move-object/from16 v0, p0
 
-    invoke-direct {v0, v10}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeToServiceState(I)I
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewCellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
-    move-result v2
+    move-object/from16 v18, v0
+
+    invoke-virtual/range {v17 .. v17}, Ljava/util/Random;->nextInt()I
+
+    move-result v19
+
+    invoke-virtual/range {v17 .. v17}, Ljava/util/Random;->nextInt()I
+
+    move-result v20
+
+    invoke-virtual/range {v18 .. v20}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
 
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+
+    move-object/from16 v18, v0
+
+    move-object/from16 v0, v18
 
-    invoke-virtual {v14, v2}, Landroid/telephony/ServiceState;->setDataRegState(I)V
+    invoke-virtual {v0, v10}, Landroid/telephony/gsm/GsmCellLocation;->setPsc(I)V
 
+    goto/16 :goto_7c
+
+    :cond_294
     move-object/from16 v0, p0
 
-    invoke-direct {v0, v10}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeIsRoaming(I)Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewCellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
-    move-result v14
+    move-object/from16 v18, v0
+
+    move-object/from16 v0, v18
+
+    invoke-virtual {v0, v8, v3}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+
+    move-object/from16 v18, v0
+
+    move-object/from16 v0, v18
+
+    invoke-virtual {v0, v10}, Landroid/telephony/gsm/GsmCellLocation;->setPsc(I)V
+
+    goto/16 :goto_7c
+
+    :sswitch_2ac
+    move-object/from16 v0, p2
+
+    iget-object v0, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+
+    move-object/from16 v18, v0
+
+    check-cast v18, [Ljava/lang/String;
+
+    move-object/from16 v0, v18
+
+    check-cast v0, [Ljava/lang/String;
+
+    move-object v15, v0
+
+    const/16 v16, 0x0
+
+    const/4 v12, 0x4
+
+    const/16 v18, -0x1
+
+    move/from16 v0, v18
+
+    move-object/from16 v1, p0
+
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewReasonDataDenied:I
+
+    const/16 v18, 0x1
+
+    move/from16 v0, v18
+
+    move-object/from16 v1, p0
+
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewMaxDataCalls:I
+
+    array-length v0, v15
+
+    move/from16 v18, v0
+    :try_end_2cf
+    .catch Ljava/lang/RuntimeException; {:try_start_234 .. :try_end_2cf} :catch_214
+
+    if-lez v18, :cond_32a
+
+    const/16 v18, 0x0
+
+    :try_start_2d3
+    aget-object v18, v15, v18
+
+    invoke-static/range {v18 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+
+    move-result v12
+
+    array-length v0, v15
+
+    move/from16 v18, v0
+
+    const/16 v19, 0x4
+
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-lt v0, v1, :cond_2f2
+
+    const/16 v18, 0x3
+
+    aget-object v18, v15, v18
+
+    if-eqz v18, :cond_2f2
+
+    const/16 v18, 0x3
+
+    aget-object v18, v15, v18
+
+    invoke-static/range {v18 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+
+    move-result v16
+
+    :cond_2f2
+    array-length v0, v15
+
+    move/from16 v18, v0
+
+    const/16 v19, 0x5
+
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-lt v0, v1, :cond_311
+
+    const/16 v18, 0x3
+
+    move/from16 v0, v18
+
+    if-ne v12, v0, :cond_311
+
+    const/16 v18, 0x4
+
+    aget-object v18, v15, v18
+
+    invoke-static/range {v18 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+
+    move-result v18
+
+    move/from16 v0, v18
+
+    move-object/from16 v1, p0
+
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewReasonDataDenied:I
 
+    :cond_311
+    array-length v0, v15
+
+    move/from16 v18, v0
+
+    const/16 v19, 0x6
+
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-lt v0, v1, :cond_32a
+
+    const/16 v18, 0x5
+
+    aget-object v18, v15, v18
+
+    invoke-static/range {v18 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+
+    move-result v18
+
+    move/from16 v0, v18
+
+    move-object/from16 v1, p0
+
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewMaxDataCalls:I
+    :try_end_32a
+    .catch Ljava/lang/NumberFormatException; {:try_start_2d3 .. :try_end_32a} :catch_38c
+    .catch Ljava/lang/RuntimeException; {:try_start_2d3 .. :try_end_32a} :catch_214
+
+    :cond_32a
+    :goto_32a
+    :try_start_32a
     move-object/from16 v0, p0
 
-    iput-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mDataRoaming:Z
+    invoke-direct {v0, v12}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeToServiceState(I)I
+
+    move-result v4
 
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    invoke-virtual {v14, v13}, Landroid/telephony/ServiceState;->setRilDataRadioTechnology(I)V
+    move-object/from16 v18, v0
 
-    new-instance v14, Ljava/lang/StringBuilder;
+    move-object/from16 v0, v18
 
-    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-virtual {v0, v4}, Landroid/telephony/ServiceState;->setDataRegState(I)V
 
-    const-string v15, "handlPollStateResultMessage: GsmSST setDataRegState="
+    move-object/from16 v0, p0
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-direct {v0, v12}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeIsRoaming(I)Z
 
-    move-result-object v14
+    move-result v18
 
-    invoke-virtual {v14, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move/from16 v0, v18
 
-    move-result-object v14
+    move-object/from16 v1, p0
 
-    const-string v15, " regState="
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mDataRoaming:Z
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    move-object/from16 v0, p0
 
-    move-result-object v14
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    invoke-virtual {v14, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-object/from16 v18, v0
 
-    move-result-object v14
+    move-object/from16 v0, v18
 
-    const-string v15, " dataRadioTechnology="
+    move/from16 v1, v16
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v0, v1}, Landroid/telephony/ServiceState;->setRilDataRadioTechnology(I)V
 
-    move-result-object v14
+    new-instance v18, Ljava/lang/StringBuilder;
 
-    invoke-virtual {v14, v13}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
 
-    move-result-object v14
+    const-string v19, "handlPollStateResultMessage: GsmSST setDataRegState="
 
-    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v14
+    move-result-object v18
+
+    move-object/from16 v0, v18
+
+    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    const-string v19, " regState="
+
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    move-object/from16 v0, v18
+
+    invoke-virtual {v0, v12}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    const-string v19, " dataRadioTechnology="
+
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    move-object/from16 v0, v18
+
+    move/from16 v1, v16
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v18
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->log(Ljava/lang/String;)V
+    move-object/from16 v1, v18
 
-    goto/16 :goto_60
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->log(Ljava/lang/String;)V
 
-    :catch_249
-    move-exception v4
+    goto/16 :goto_7c
 
-    new-instance v14, Ljava/lang/StringBuilder;
+    :catch_38c
+    move-exception v6
 
-    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+    new-instance v18, Ljava/lang/StringBuilder;
 
-    const-string v15, "error parsing GprsRegistrationState: "
+    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v19, "error parsing GprsRegistrationState: "
 
-    move-result-object v14
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v14, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    move-result-object v18
 
-    move-result-object v14
+    move-object/from16 v0, v18
 
-    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {v0, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v14
+    move-result-object v18
+
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v18
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
+    move-object/from16 v1, v18
+
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto :goto_1fd
+    goto :goto_32a
 
-    :sswitch_263
+    :sswitch_3aa
     move-object/from16 v0, p2
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    iget-object v0, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    check-cast v14, [Ljava/lang/String;
+    move-object/from16 v18, v0
 
-    move-object v0, v14
+    check-cast v18, [Ljava/lang/String;
+
+    move-object/from16 v0, v18
 
     check-cast v0, [Ljava/lang/String;
 
-    move-object v7, v0
+    move-object v9, v0
+
+    if-eqz v9, :cond_7c
 
-    if-eqz v7, :cond_60
+    array-length v0, v9
 
-    array-length v14, v7
+    move/from16 v18, v0
 
-    const/4 v15, 0x3
+    const/16 v19, 0x3
 
-    if-lt v14, v15, :cond_60
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-lt v0, v1, :cond_7c
 
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    const/4 v15, 0x0
+    move-object/from16 v18, v0
 
-    aget-object v15, v7, v15
+    if-eqz v18, :cond_3e5
 
-    const/16 v16, 0x1
+    if-eqz v14, :cond_3e5
 
-    aget-object v16, v7, v16
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
 
-    const/16 v17, 0x2
+    move-result v18
+
+    if-eqz v18, :cond_3e5
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
+
+    move-object/from16 v18, v0
+
+    const-string v19, ""
+
+    const-string v20, ""
+
+    const-string v21, ""
+
+    invoke-virtual/range {v18 .. v21}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_7c
+
+    :cond_3e5
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
+
+    move-object/from16 v18, v0
+
+    const/16 v19, 0x0
+
+    aget-object v19, v9, v19
+
+    const/16 v20, 0x1
 
-    aget-object v17, v7, v17
+    aget-object v20, v9, v20
 
-    invoke-virtual/range {v14 .. v17}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+    const/16 v21, 0x2
 
-    goto/16 :goto_60
+    aget-object v21, v9, v21
 
-    :sswitch_287
+    invoke-virtual/range {v18 .. v21}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_7c
+
+    :sswitch_3fc
     move-object/from16 v0, p2
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    iget-object v0, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+
+    move-object/from16 v18, v0
 
-    check-cast v14, [I
+    check-cast v18, [I
 
-    move-object v0, v14
+    move-object/from16 v0, v18
 
     check-cast v0, [I
 
-    move-object v5, v0
+    move-object v7, v0
 
     move-object/from16 v0, p0
 
-    iget-object v15, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewSS:Landroid/telephony/ServiceState;
 
-    const/4 v14, 0x0
+    move-object/from16 v19, v0
 
-    aget v14, v5, v14
+    const/16 v18, 0x0
 
-    const/16 v16, 0x1
+    aget v18, v7, v18
 
-    move/from16 v0, v16
+    const/16 v20, 0x1
 
-    if-ne v14, v0, :cond_2a4
+    move/from16 v0, v18
 
-    const/4 v14, 0x1
+    move/from16 v1, v20
 
-    :goto_29f
-    invoke-virtual {v15, v14}, Landroid/telephony/ServiceState;->setIsManualSelection(Z)V
-    :try_end_2a2
-    .catch Ljava/lang/RuntimeException; {:try_start_1fd .. :try_end_2a2} :catch_171
+    if-ne v0, v1, :cond_426
 
-    goto/16 :goto_60
+    const/16 v18, 0x1
 
-    :cond_2a4
-    const/4 v14, 0x0
+    :goto_41d
+    move-object/from16 v0, v19
 
-    goto :goto_29f
+    move/from16 v1, v18
 
-    :cond_2a6
-    const/4 v11, 0x0
+    invoke-virtual {v0, v1}, Landroid/telephony/ServiceState;->setIsManualSelection(Z)V
+    :try_end_424
+    .catch Ljava/lang/RuntimeException; {:try_start_32a .. :try_end_424} :catch_214
 
-    goto/16 :goto_81
+    goto/16 :goto_7c
 
-    nop
+    :cond_426
+    const/16 v18, 0x0
+
+    goto :goto_41d
+
+    :cond_429
+    const/4 v13, 0x0
+
+    goto/16 :goto_a7
 
-    :sswitch_data_2aa
+    :sswitch_data_42c
     .sparse-switch
-        0x4 -> :sswitch_b3
-        0x5 -> :sswitch_1ac
-        0x6 -> :sswitch_263
-        0xe -> :sswitch_287
+        0x4 -> :sswitch_102
+        0x5 -> :sswitch_2ac
+        0x6 -> :sswitch_3aa
+        0xe -> :sswitch_3fc
     .end sparse-switch
 .end method
 
diff -Npru stock-telephony-common/smali/com/android/internal/telephony/IccSmsInterfaceManager.smali pdroid-telephony-common/smali/com/android/internal/telephony/IccSmsInterfaceManager.smali
--- stock-telephony-common/smali/com/android/internal/telephony/IccSmsInterfaceManager.smali	2013-08-10 13:27:34.630143508 -0700
+++ pdroid-telephony-common/smali/com/android/internal/telephony/IccSmsInterfaceManager.smali	2013-08-10 13:27:36.202143574 -0700
@@ -4,6 +4,10 @@
 
 
 # static fields
+.field protected static final ACCESS_TYPE_ICC:I = 0x1
+
+.field protected static final ACCESS_TYPE_SMS_MMS:I = 0x0
+
 .field static final DBG:Z = true
 
 .field private static final EVENT_LOAD_DONE:I = 0x1
@@ -16,6 +20,8 @@
 
 .field static final LOG_TAG:Ljava/lang/String; = "IccSmsInterfaceManager"
 
+.field protected static final P_TAG:Ljava/lang/String; = "PrivacySMSInterfaceManager"
+
 
 # instance fields
 .field protected final mAppOps:Landroid/app/AppOpsManager;
@@ -43,6 +49,8 @@
 
 .field protected mSuccess:Z
 
+.field protected pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 
 # direct methods
 .method protected constructor <init>(Lcom/android/internal/telephony/PhoneBase;)V
@@ -235,6 +243,23 @@
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->log(Ljava/lang/String;)V
 
+    invoke-virtual {p0}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v3
+
+    const/4 v4, 0x1
+
+    invoke-virtual {p0, v3, v4}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v3
+
+    if-nez v3, :cond_4b
+
+    :cond_4a
+    :goto_4a
+    return v2
+
+    :cond_4b
     const-string v3, "Copying message to Icc"
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->enforceReceiveAndSend(Ljava/lang/String;)V
@@ -251,19 +276,15 @@
 
     move-result v3
 
-    if-eqz v3, :cond_53
-
-    :goto_52
-    return v2
+    if-nez v3, :cond_4a
 
-    :cond_53
     iget-object v3, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     monitor-enter v3
 
     const/4 v2, 0x0
 
-    :try_start_57
+    :try_start_62
     iput-boolean v2, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mSuccess:Z
 
     iget-object v2, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mHandler:Landroid/os/Handler;
@@ -275,43 +296,43 @@
     move-result-object v1
 
     invoke-virtual {p0, p2, p4, p3, v1}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->writeSms(I[B[BLandroid/os/Message;)V
-    :try_end_63
-    .catchall {:try_start_57 .. :try_end_63} :catchall_73
+    :try_end_6e
+    .catchall {:try_start_62 .. :try_end_6e} :catchall_7e
 
-    :try_start_63
+    :try_start_6e
     iget-object v2, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v2}, Ljava/lang/Object;->wait()V
-    :try_end_68
-    .catchall {:try_start_63 .. :try_end_68} :catchall_73
-    .catch Ljava/lang/InterruptedException; {:try_start_63 .. :try_end_68} :catch_6c
+    :try_end_73
+    .catchall {:try_start_6e .. :try_end_73} :catchall_7e
+    .catch Ljava/lang/InterruptedException; {:try_start_6e .. :try_end_73} :catch_77
 
-    :goto_68
-    :try_start_68
+    :goto_73
+    :try_start_73
     monitor-exit v3
-    :try_end_69
-    .catchall {:try_start_68 .. :try_end_69} :catchall_73
+    :try_end_74
+    .catchall {:try_start_73 .. :try_end_74} :catchall_7e
 
     iget-boolean v2, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mSuccess:Z
 
-    goto :goto_52
+    goto :goto_4a
 
-    :catch_6c
+    :catch_77
     move-exception v0
 
-    :try_start_6d
+    :try_start_78
     const-string v2, "interrupted while trying to update by index"
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    goto :goto_68
+    goto :goto_73
 
-    :catchall_73
+    :catchall_7e
     move-exception v2
 
     monitor-exit v3
-    :try_end_75
-    .catchall {:try_start_6d .. :try_end_75} :catchall_73
+    :try_end_80
+    .catchall {:try_start_78 .. :try_end_80} :catchall_7e
 
     throw v2
 .end method
@@ -351,10 +372,30 @@
         }
     .end annotation
 
+    const/4 v4, 0x1
+
     const-string v3, "getAllMessagesFromEF"
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->log(Ljava/lang/String;)V
 
+    invoke-virtual {p0}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {p0, v3, v4}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v3
+
+    if-nez v3, :cond_16
+
+    new-instance v3, Ljava/util/ArrayList;
+
+    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V
+
+    :goto_15
+    return-object v3
+
+    :cond_16
     iget-object v3, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mContext:Landroid/content/Context;
 
     const-string v4, "android.permission.RECEIVE_SMS"
@@ -375,28 +416,27 @@
 
     move-result v3
 
-    if-eqz v3, :cond_22
+    if-eqz v3, :cond_33
 
     new-instance v3, Ljava/util/ArrayList;
 
     invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V
 
-    :goto_21
-    return-object v3
+    goto :goto_15
 
-    :cond_22
+    :cond_33
     iget-object v4, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     monitor-enter v4
 
-    :try_start_25
+    :try_start_36
     iget-object v3, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mPhone:Lcom/android/internal/telephony/PhoneBase;
 
     invoke-virtual {v3}, Lcom/android/internal/telephony/PhoneBase;->getIccFileHandler()Lcom/android/internal/telephony/uicc/IccFileHandler;
 
     move-result-object v1
 
-    if-nez v1, :cond_44
+    if-nez v1, :cond_55
 
     const-string v3, "IccSmsInterfaceManager"
 
@@ -406,7 +446,7 @@
 
     iget-object v3, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mSms:Ljava/util/List;
 
-    if-eqz v3, :cond_44
+    if-eqz v3, :cond_55
 
     iget-object v3, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mSms:Ljava/util/List;
 
@@ -416,19 +456,19 @@
 
     monitor-exit v4
 
-    goto :goto_21
+    goto :goto_15
 
-    :catchall_41
+    :catchall_52
     move-exception v3
 
     monitor-exit v4
-    :try_end_43
-    .catchall {:try_start_25 .. :try_end_43} :catchall_41
+    :try_end_54
+    .catchall {:try_start_36 .. :try_end_54} :catchall_52
 
     throw v3
 
-    :cond_44
-    :try_start_44
+    :cond_55
+    :try_start_55
     iget-object v3, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mHandler:Landroid/os/Handler;
 
     const/4 v5, 0x1
@@ -440,38 +480,58 @@
     const/16 v3, 0x6f3c
 
     invoke-virtual {v1, v3, v2}, Lcom/android/internal/telephony/uicc/IccFileHandler;->loadEFLinearFixedAll(ILandroid/os/Message;)V
-    :try_end_50
-    .catchall {:try_start_44 .. :try_end_50} :catchall_41
+    :try_end_61
+    .catchall {:try_start_55 .. :try_end_61} :catchall_52
 
-    :try_start_50
+    :try_start_61
     iget-object v3, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v3}, Ljava/lang/Object;->wait()V
-    :try_end_55
-    .catchall {:try_start_50 .. :try_end_55} :catchall_41
-    .catch Ljava/lang/InterruptedException; {:try_start_50 .. :try_end_55} :catch_59
+    :try_end_66
+    .catchall {:try_start_61 .. :try_end_66} :catchall_52
+    .catch Ljava/lang/InterruptedException; {:try_start_61 .. :try_end_66} :catch_6a
 
-    :goto_55
-    :try_start_55
+    :goto_66
+    :try_start_66
     monitor-exit v4
-    :try_end_56
-    .catchall {:try_start_55 .. :try_end_56} :catchall_41
+    :try_end_67
+    .catchall {:try_start_66 .. :try_end_67} :catchall_52
 
     iget-object v3, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mSms:Ljava/util/List;
 
-    goto :goto_21
+    goto :goto_15
 
-    :catch_59
+    :catch_6a
     move-exception v0
 
-    :try_start_5a
+    :try_start_6b
     const-string v3, "interrupted while trying to load from the Icc"
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->log(Ljava/lang/String;)V
-    :try_end_5f
-    .catchall {:try_start_5a .. :try_end_5f} :catchall_41
+    :try_end_70
+    .catchall {:try_start_6b .. :try_end_70} :catchall_52
+
+    goto :goto_66
+.end method
+
+.method protected getPackageName()[Ljava/lang/String;
+    .registers 4
+
+    iget-object v2, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mContext:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;
+
+    move-result-object v1
 
-    goto :goto_55
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    invoke-virtual {v1, v2}, Landroid/content/pm/PackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
 .end method
 
 .method public getPremiumSmsPermission(Ljava/lang/String;)I
@@ -486,6 +546,299 @@
     return v0
 .end method
 
+.method protected isAllowed([Ljava/lang/String;I)Z
+    .registers 12
+
+    const/4 v8, -0x1
+
+    const/4 v4, 0x1
+
+    const/4 v3, 0x0
+
+    packed-switch p2, :pswitch_data_e6
+
+    const/4 v5, 0x0
+
+    :try_start_7
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    :goto_e
+    return v3
+
+    :pswitch_f
+    const/4 v2, 0x0
+
+    iget-object v5, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_26
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_26
+    iget-object v5, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_7e
+
+    if-eqz p1, :cond_7e
+
+    const/4 v1, 0x0
+
+    :goto_2d
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_75
+
+    iget-object v5, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_71
+
+    if-eqz v2, :cond_71
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getSmsSendSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_71
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+    :try_end_4b
+    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_4b} :catch_4c
+
+    goto :goto_e
+
+    :catch_4c
+    move-exception v0
+
+    const-string v5, "PrivacySMSInterfaceManager"
+
+    const-string v6, "Got exception while checking for sms or ICC acess permission"
+
+    invoke-static {v5, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    if-eqz p1, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_6f
+
+    array-length v5, p1
+
+    if-lez v5, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v3
+
+    invoke-virtual {v5, v6, v8}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_6f
+
+    aget-object v5, p1, v3
+
+    invoke-virtual {p0, p2, v5, v3}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    :cond_6f
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_71
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_2d
+
+    :cond_75
+    const/4 v5, 0x0
+
+    :try_start_76
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_7e
+    if-eqz p1, :cond_8a
+
+    array-length v5, p1
+
+    if-lez v5, :cond_8a
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    :cond_8a
+    move v3, v4
+
+    goto :goto_e
+
+    :pswitch_8c
+    iget-object v5, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_a2
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_a2
+    iget-object v5, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_d7
+
+    if-eqz p1, :cond_d7
+
+    const/4 v1, 0x0
+
+    :goto_a9
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_cd
+
+    iget-object v5, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_c9
+
+    if-eqz v2, :cond_c9
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getIccAccessSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_c9
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    goto/16 :goto_e
+
+    :cond_c9
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_a9
+
+    :cond_cd
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :cond_d7
+    if-eqz p1, :cond_e3
+
+    array-length v5, p1
+
+    if-lez v5, :cond_e3
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+    :try_end_e3
+    .catch Ljava/lang/Exception; {:try_start_76 .. :try_end_e3} :catch_4c
+
+    :cond_e3
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :pswitch_data_e6
+    .packed-switch 0x0
+        :pswitch_f
+        :pswitch_8c
+    .end packed-switch
+.end method
+
 .method protected abstract log(Ljava/lang/String;)V
 .end method
 
@@ -660,6 +1013,55 @@
     goto :goto_22
 .end method
 
+.method protected notify(ILjava/lang/String;B)V
+    .registers 11
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    packed-switch p1, :pswitch_data_1c
+
+    :goto_5
+    return-void
+
+    :pswitch_6
+    iget-object v0, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "SmsSend"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_11
+    iget-object v0, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "iccAccess"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_data_1c
+    .packed-switch 0x0
+        :pswitch_6
+        :pswitch_11
+    .end packed-switch
+.end method
+
 .method public sendData(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I[BLandroid/app/PendingIntent;Landroid/app/PendingIntent;)V
     .registers 15
 
@@ -1151,6 +1553,23 @@
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->log(Ljava/lang/String;)V
 
+    invoke-virtual {p0}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v2
+
+    const/4 v4, 0x1
+
+    invoke-virtual {p0, v2, v4}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v2
+
+    if-nez v2, :cond_47
+
+    :cond_46
+    :goto_46
+    return v1
+
+    :cond_47
     const-string v2, "Updating message on Icc"
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->enforceReceiveAndSend(Ljava/lang/String;)V
@@ -1167,19 +1586,15 @@
 
     move-result v2
 
-    if-eqz v2, :cond_4f
-
-    :goto_4e
-    return v1
+    if-nez v2, :cond_46
 
-    :cond_4f
     iget-object v7, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     monitor-enter v7
 
     const/4 v1, 0x0
 
-    :try_start_53
+    :try_start_5e
     iput-boolean v1, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mSuccess:Z
 
     iget-object v1, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mHandler:Landroid/os/Handler;
@@ -1190,40 +1605,40 @@
 
     move-result-object v5
 
-    if-nez p3, :cond_6a
+    if-nez p3, :cond_75
 
     invoke-virtual {p0, p2, v5}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->deleteSms(ILandroid/os/Message;)V
-    :try_end_61
-    .catchall {:try_start_53 .. :try_end_61} :catchall_79
+    :try_end_6c
+    .catchall {:try_start_5e .. :try_end_6c} :catchall_84
 
-    :goto_61
-    :try_start_61
+    :goto_6c
+    :try_start_6c
     iget-object v1, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v1}, Ljava/lang/Object;->wait()V
-    :try_end_66
-    .catchall {:try_start_61 .. :try_end_66} :catchall_79
-    .catch Ljava/lang/InterruptedException; {:try_start_61 .. :try_end_66} :catch_88
+    :try_end_71
+    .catchall {:try_start_6c .. :try_end_71} :catchall_84
+    .catch Ljava/lang/InterruptedException; {:try_start_6c .. :try_end_71} :catch_93
 
-    :goto_66
-    :try_start_66
+    :goto_71
+    :try_start_71
     monitor-exit v7
-    :try_end_67
-    .catchall {:try_start_66 .. :try_end_67} :catchall_79
+    :try_end_72
+    .catchall {:try_start_71 .. :try_end_72} :catchall_84
 
     iget-boolean v1, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mSuccess:Z
 
-    goto :goto_4e
+    goto :goto_46
 
-    :cond_6a
-    :try_start_6a
+    :cond_75
+    :try_start_75
     iget-object v1, p0, Lcom/android/internal/telephony/IccSmsInterfaceManager;->mPhone:Lcom/android/internal/telephony/PhoneBase;
 
     invoke-virtual {v1}, Lcom/android/internal/telephony/PhoneBase;->getIccFileHandler()Lcom/android/internal/telephony/uicc/IccFileHandler;
 
     move-result-object v0
 
-    if-nez v0, :cond_7c
+    if-nez v0, :cond_87
 
     invoke-virtual {v5}, Landroid/os/Message;->recycle()V
 
@@ -1231,19 +1646,19 @@
 
     monitor-exit v7
 
-    goto :goto_4e
+    goto :goto_46
 
-    :catchall_79
+    :catchall_84
     move-exception v1
 
     monitor-exit v7
-    :try_end_7b
-    .catchall {:try_start_6a .. :try_end_7b} :catchall_79
+    :try_end_86
+    .catchall {:try_start_75 .. :try_end_86} :catchall_84
 
     throw v1
 
-    :cond_7c
-    :try_start_7c
+    :cond_87
+    :try_start_87
     invoke-virtual {p0, p3, p4}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->makeSmsRecordData(I[B)[B
 
     move-result-object v3
@@ -1256,18 +1671,18 @@
 
     invoke-virtual/range {v0 .. v5}, Lcom/android/internal/telephony/uicc/IccFileHandler;->updateEFLinearFixed(II[BLjava/lang/String;Landroid/os/Message;)V
 
-    goto :goto_61
+    goto :goto_6c
 
-    :catch_88
+    :catch_93
     move-exception v6
 
     const-string v1, "interrupted while trying to update by index"
 
     invoke-virtual {p0, v1}, Lcom/android/internal/telephony/IccSmsInterfaceManager;->log(Ljava/lang/String;)V
-    :try_end_8e
-    .catchall {:try_start_7c .. :try_end_8e} :catchall_79
+    :try_end_99
+    .catchall {:try_start_87 .. :try_end_99} :catchall_84
 
-    goto :goto_66
+    goto :goto_71
 .end method
 
 .method protected abstract writeSms(I[B[BLandroid/os/Message;)V
diff -Npru stock-telephony-common/smali/com/android/internal/telephony/PhoneFactory.smali pdroid-telephony-common/smali/com/android/internal/telephony/PhoneFactory.smali
--- stock-telephony-common/smali/com/android/internal/telephony/PhoneFactory.smali	2013-08-10 13:27:34.690143512 -0700
+++ pdroid-telephony-common/smali/com/android/internal/telephony/PhoneFactory.smali	2013-08-10 13:27:36.226143575 -0700
@@ -64,7 +64,7 @@
 
     packed-switch v1, :pswitch_data_26
 
-    new-instance v0, Lcom/android/internal/telephony/cdma/CDMAPhone;
+    new-instance v0, Landroid/privacy/surrogate/PrivacyCDMAPhone;
 
     sget-object v1, Lcom/android/internal/telephony/PhoneFactory;->sContext:Landroid/content/Context;
 
@@ -72,7 +72,7 @@
 
     sget-object v4, Lcom/android/internal/telephony/PhoneFactory;->sPhoneNotifier:Lcom/android/internal/telephony/PhoneNotifier;
 
-    invoke-direct {v0, v1, v3, v4}, Lcom/android/internal/telephony/cdma/CDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v3, v4}, Landroid/privacy/surrogate/PrivacyCDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     :goto_15
     monitor-exit v2
@@ -80,7 +80,7 @@
     return-object v0
 
     :pswitch_17
-    new-instance v0, Lcom/android/internal/telephony/cdma/CDMALTEPhone;
+    new-instance v0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;
 
     sget-object v1, Lcom/android/internal/telephony/PhoneFactory;->sContext:Landroid/content/Context;
 
@@ -88,7 +88,7 @@
 
     sget-object v4, Lcom/android/internal/telephony/PhoneFactory;->sPhoneNotifier:Lcom/android/internal/telephony/PhoneNotifier;
 
-    invoke-direct {v0, v1, v3, v4}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v3, v4}, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     goto :goto_15
 
@@ -153,7 +153,7 @@
     monitor-enter v2
 
     :try_start_3
-    new-instance v0, Lcom/android/internal/telephony/gsm/GSMPhone;
+    new-instance v0, Landroid/privacy/surrogate/PrivacyGSMPhone;
 
     sget-object v1, Lcom/android/internal/telephony/PhoneFactory;->sContext:Landroid/content/Context;
 
@@ -161,7 +161,7 @@
 
     sget-object v4, Lcom/android/internal/telephony/PhoneFactory;->sPhoneNotifier:Lcom/android/internal/telephony/PhoneNotifier;
 
-    invoke-direct {v0, v1, v3, v4}, Lcom/android/internal/telephony/gsm/GSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v3, v4}, Landroid/privacy/surrogate/PrivacyGSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     monitor-exit v2
 
@@ -364,17 +364,17 @@
 
     invoke-static {v8, v10}, Landroid/telephony/Rlog;->i(Ljava/lang/String;Ljava/lang/String;)I
 
-    new-instance v8, Lcom/android/internal/telephony/PhoneProxy;
+    new-instance v8, Landroid/privacy/surrogate/PrivacyPhoneProxy;
 
-    new-instance v10, Lcom/android/internal/telephony/gsm/GSMPhone;
+    new-instance v10, Landroid/privacy/surrogate/PrivacyGSMPhone;
 
     sget-object v11, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
 
     sget-object v12, Lcom/android/internal/telephony/PhoneFactory;->sPhoneNotifier:Lcom/android/internal/telephony/PhoneNotifier;
 
-    invoke-direct {v10, p0, v11, v12}, Lcom/android/internal/telephony/gsm/GSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v10, p0, v11, v12}, Landroid/privacy/surrogate/PrivacyGSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
-    invoke-direct {v8, v10}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;)V
+    invoke-direct {v8, v10, p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;Landroid/content/Context;)V
 
     sput-object v8, Lcom/android/internal/telephony/PhoneFactory;->sProxyPhone:Lcom/android/internal/telephony/Phone;
 
@@ -467,17 +467,17 @@
 
     invoke-static {v8, v10}, Landroid/telephony/Rlog;->i(Ljava/lang/String;Ljava/lang/String;)I
 
-    new-instance v8, Lcom/android/internal/telephony/PhoneProxy;
+    new-instance v8, Landroid/privacy/surrogate/PrivacyPhoneProxy;
 
-    new-instance v10, Lcom/android/internal/telephony/cdma/CDMAPhone;
+    new-instance v10, Landroid/privacy/surrogate/PrivacyCDMAPhone;
 
     sget-object v11, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
 
     sget-object v12, Lcom/android/internal/telephony/PhoneFactory;->sPhoneNotifier:Lcom/android/internal/telephony/PhoneNotifier;
 
-    invoke-direct {v10, p0, v11, v12}, Lcom/android/internal/telephony/cdma/CDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v10, p0, v11, v12}, Landroid/privacy/surrogate/PrivacyCDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
-    invoke-direct {v8, v10}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;)V
+    invoke-direct {v8, v10, p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;Landroid/content/Context;)V
 
     sput-object v8, Lcom/android/internal/telephony/PhoneFactory;->sProxyPhone:Lcom/android/internal/telephony/Phone;
 
@@ -490,17 +490,17 @@
 
     invoke-static {v8, v10}, Landroid/telephony/Rlog;->i(Ljava/lang/String;Ljava/lang/String;)I
 
-    new-instance v8, Lcom/android/internal/telephony/PhoneProxy;
+    new-instance v8, Landroid/privacy/surrogate/PrivacyPhoneProxy;
 
-    new-instance v10, Lcom/android/internal/telephony/cdma/CDMALTEPhone;
+    new-instance v10, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;
 
     sget-object v11, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
 
     sget-object v12, Lcom/android/internal/telephony/PhoneFactory;->sPhoneNotifier:Lcom/android/internal/telephony/PhoneNotifier;
 
-    invoke-direct {v10, p0, v11, v12}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v10, p0, v11, v12}, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
-    invoke-direct {v8, v10}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;)V
+    invoke-direct {v8, v10, p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;Landroid/content/Context;)V
 
     sput-object v8, Lcom/android/internal/telephony/PhoneFactory;->sProxyPhone:Lcom/android/internal/telephony/Phone;
     :try_end_124
diff -Npru stock-telephony-common/smali/com/android/internal/telephony/RIL$RILSender.smali pdroid-telephony-common/smali/com/android/internal/telephony/RIL$RILSender.smali
--- stock-telephony-common/smali/com/android/internal/telephony/RIL$RILSender.smali	2013-08-10 13:27:34.710143513 -0700
+++ pdroid-telephony-common/smali/com/android/internal/telephony/RIL$RILSender.smali	2013-08-10 13:27:36.238143576 -0700
@@ -61,7 +61,7 @@
 
     iget v10, v0, Landroid/os/Message;->what:I
 
-    packed-switch v10, :pswitch_data_1fa
+    packed-switch v10, :pswitch_data_200
 
     :cond_11
     :goto_11
@@ -99,7 +99,7 @@
 
     iput v11, v10, Lcom/android/internal/telephony/RIL;->mRequestMessagesPending:I
     :try_end_2f
-    .catchall {:try_start_13 .. :try_end_2f} :catchall_10e
+    .catchall {:try_start_13 .. :try_end_2f} :catchall_114
     .catch Ljava/io/IOException; {:try_start_13 .. :try_end_2f} :catch_87
     .catch Ljava/lang/RuntimeException; {:try_start_13 .. :try_end_2f} :catch_bd
 
@@ -121,7 +121,7 @@
 
     monitor-enter v11
     :try_end_3b
-    .catchall {:try_start_36 .. :try_end_3b} :catchall_10e
+    .catchall {:try_start_36 .. :try_end_3b} :catchall_114
     .catch Ljava/io/IOException; {:try_start_36 .. :try_end_3b} :catch_87
     .catch Ljava/lang/RuntimeException; {:try_start_36 .. :try_end_3b} :catch_bd
 
@@ -180,7 +180,7 @@
 
     const/16 v11, 0x2000
 
-    if-le v10, v11, :cond_dc
+    if-le v10, v11, :cond_df
 
     new-instance v10, Ljava/lang/RuntimeException;
 
@@ -208,7 +208,7 @@
 
     throw v10
     :try_end_87
-    .catchall {:try_start_4b .. :try_end_87} :catchall_10e
+    .catchall {:try_start_4b .. :try_end_87} :catchall_114
     .catch Ljava/io/IOException; {:try_start_4b .. :try_end_87} :catch_87
     .catch Ljava/lang/RuntimeException; {:try_start_4b .. :try_end_87} :catch_bd
 
@@ -244,15 +244,15 @@
 
     invoke-virtual {v8}, Lcom/android/internal/telephony/RILRequest;->release()V
     :try_end_a3
-    .catchall {:try_start_88 .. :try_end_a3} :catchall_10e
+    .catchall {:try_start_88 .. :try_end_a3} :catchall_114
 
     :cond_a3
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
-    :goto_a5
     #calls: Lcom/android/internal/telephony/RIL;->releaseWakeLockIfDone()V
     invoke-static {v10}, Lcom/android/internal/telephony/RIL;->access$200(Lcom/android/internal/telephony/RIL;)V
 
+    :goto_a8
     if-nez v1, :cond_11
 
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
@@ -282,7 +282,7 @@
     :try_start_bc
     throw v10
     :try_end_bd
-    .catchall {:try_start_bc .. :try_end_bd} :catchall_10e
+    .catchall {:try_start_bc .. :try_end_bd} :catchall_114
     .catch Ljava/io/IOException; {:try_start_bc .. :try_end_bd} :catch_87
     .catch Ljava/lang/RuntimeException; {:try_start_bc .. :try_end_bd} :catch_bd
 
@@ -318,15 +318,18 @@
 
     invoke-virtual {v8}, Lcom/android/internal/telephony/RILRequest;->release()V
     :try_end_d9
-    .catchall {:try_start_be .. :try_end_d9} :catchall_10e
+    .catchall {:try_start_be .. :try_end_d9} :catchall_114
 
     :cond_d9
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
-    goto :goto_a5
+    #calls: Lcom/android/internal/telephony/RIL;->releaseWakeLockIfDone()V
+    invoke-static {v10}, Lcom/android/internal/telephony/RIL;->access$200(Lcom/android/internal/telephony/RIL;)V
+
+    goto :goto_a8
 
-    :cond_dc
-    :try_start_dc
+    :cond_df
+    :try_start_df
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->dataLength:[B
 
     const/4 v11, 0x0
@@ -380,16 +383,19 @@
     move-result-object v10
 
     invoke-virtual {v10, v3}, Ljava/io/OutputStream;->write([B)V
-    :try_end_10b
-    .catchall {:try_start_dc .. :try_end_10b} :catchall_10e
-    .catch Ljava/io/IOException; {:try_start_dc .. :try_end_10b} :catch_87
-    .catch Ljava/lang/RuntimeException; {:try_start_dc .. :try_end_10b} :catch_bd
+    :try_end_10e
+    .catchall {:try_start_df .. :try_end_10e} :catchall_114
+    .catch Ljava/io/IOException; {:try_start_df .. :try_end_10e} :catch_87
+    .catch Ljava/lang/RuntimeException; {:try_start_df .. :try_end_10e} :catch_bd
 
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
-    goto :goto_a5
+    #calls: Lcom/android/internal/telephony/RIL;->releaseWakeLockIfDone()V
+    invoke-static {v10}, Lcom/android/internal/telephony/RIL;->access$200(Lcom/android/internal/telephony/RIL;)V
+
+    goto :goto_a8
 
-    :catchall_10e
+    :catchall_114
     move-exception v10
 
     iget-object v11, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
@@ -399,14 +405,14 @@
 
     throw v10
 
-    :pswitch_115
+    :pswitch_11b
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget-object v11, v10, Lcom/android/internal/telephony/RIL;->mWakeLock:Landroid/os/PowerManager$WakeLock;
 
     monitor-enter v11
 
-    :try_start_11a
+    :try_start_120
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget-object v10, v10, Lcom/android/internal/telephony/RIL;->mWakeLock:Landroid/os/PowerManager$WakeLock;
@@ -415,13 +421,13 @@
 
     move-result v10
 
-    if-eqz v10, :cond_1f1
+    if-eqz v10, :cond_1f7
 
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget v10, v10, Lcom/android/internal/telephony/RIL;->mRequestMessagesWaiting:I
 
-    if-eqz v10, :cond_1bd
+    if-eqz v10, :cond_1c3
 
     const-string v10, "RILJ"
 
@@ -472,10 +478,10 @@
     iget-object v12, v10, Lcom/android/internal/telephony/RIL;->mRequestList:Ljava/util/ArrayList;
 
     monitor-enter v12
-    :try_end_15c
-    .catchall {:try_start_11a .. :try_end_15c} :catchall_1f4
+    :try_end_162
+    .catchall {:try_start_120 .. :try_end_162} :catchall_1fa
 
-    :try_start_15c
+    :try_start_162
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget-object v10, v10, Lcom/android/internal/telephony/RIL;->mRequestList:Ljava/util/ArrayList;
@@ -508,8 +514,8 @@
 
     const/4 v6, 0x0
 
-    :goto_17d
-    if-ge v6, v2, :cond_1bc
+    :goto_183
+    if-ge v6, v2, :cond_1c2
 
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
@@ -571,20 +577,20 @@
 
     add-int/lit8 v6, v6, 0x1
 
-    goto :goto_17d
+    goto :goto_183
 
-    :cond_1bc
+    :cond_1c2
     monitor-exit v12
-    :try_end_1bd
-    .catchall {:try_start_15c .. :try_end_1bd} :catchall_1f7
+    :try_end_1c3
+    .catchall {:try_start_162 .. :try_end_1c3} :catchall_1fd
 
-    :cond_1bd
-    :try_start_1bd
+    :cond_1c3
+    :try_start_1c3
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget v10, v10, Lcom/android/internal/telephony/RIL;->mRequestMessagesPending:I
 
-    if-eqz v10, :cond_1ea
+    if-eqz v10, :cond_1f0
 
     const-string v10, "RILJ"
 
@@ -624,44 +630,44 @@
 
     iput v12, v10, Lcom/android/internal/telephony/RIL;->mRequestMessagesPending:I
 
-    :cond_1ea
+    :cond_1f0
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget-object v10, v10, Lcom/android/internal/telephony/RIL;->mWakeLock:Landroid/os/PowerManager$WakeLock;
 
     invoke-virtual {v10}, Landroid/os/PowerManager$WakeLock;->release()V
 
-    :cond_1f1
+    :cond_1f7
     monitor-exit v11
 
     goto/16 :goto_11
 
-    :catchall_1f4
+    :catchall_1fa
     move-exception v10
 
     monitor-exit v11
-    :try_end_1f6
-    .catchall {:try_start_1bd .. :try_end_1f6} :catchall_1f4
+    :try_end_1fc
+    .catchall {:try_start_1c3 .. :try_end_1fc} :catchall_1fa
 
     throw v10
 
-    :catchall_1f7
+    :catchall_1fd
     move-exception v10
 
-    :try_start_1f8
+    :try_start_1fe
     monitor-exit v12
-    :try_end_1f9
-    .catchall {:try_start_1f8 .. :try_end_1f9} :catchall_1f7
+    :try_end_1ff
+    .catchall {:try_start_1fe .. :try_end_1ff} :catchall_1fd
 
-    :try_start_1f9
+    :try_start_1ff
     throw v10
-    :try_end_1fa
-    .catchall {:try_start_1f9 .. :try_end_1fa} :catchall_1f4
+    :try_end_200
+    .catchall {:try_start_1ff .. :try_end_200} :catchall_1fa
 
-    :pswitch_data_1fa
+    :pswitch_data_200
     .packed-switch 0x1
         :pswitch_12
-        :pswitch_115
+        :pswitch_11b
     .end packed-switch
 .end method
 
diff -Npru stock-telephony-common/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali pdroid-telephony-common/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali
--- stock-telephony-common/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali	2013-08-10 13:27:35.282143535 -0700
+++ pdroid-telephony-common/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali	2013-08-10 13:27:36.710143595 -0700
@@ -24,9 +24,9 @@
 
     move-result-object v1
 
-    new-instance v2, Lcom/android/internal/telephony/sip/SipPhone;
+    new-instance v2, Landroid/privacy/surrogate/PrivacySipPhone;
 
-    invoke-direct {v2, p1, p2, v1}, Lcom/android/internal/telephony/sip/SipPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+    invoke-direct {v2, p1, p2, v1}, Landroid/privacy/surrogate/PrivacySipPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
     :try_end_e
     .catch Ljava/text/ParseException; {:try_start_0 .. :try_end_e} :catch_f
 
diff -Npru stock-telephony-common/smali/com/android/internal/telephony/sip/SipPhone.smali pdroid-telephony-common/smali/com/android/internal/telephony/sip/SipPhone.smali
--- stock-telephony-common/smali/com/android/internal/telephony/sip/SipPhone.smali	2013-08-10 13:27:35.282143535 -0700
+++ pdroid-telephony-common/smali/com/android/internal/telephony/sip/SipPhone.smali	2013-08-10 13:27:36.070143568 -0700
@@ -41,7 +41,7 @@
 
 
 # direct methods
-.method constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
     .registers 7
 
     const/4 v2, 0x0
diff -Npru stock-telephony-common/smali/com/android/internal/telephony/SMSDispatcher.smali pdroid-telephony-common/smali/com/android/internal/telephony/SMSDispatcher.smali
--- stock-telephony-common/smali/com/android/internal/telephony/SMSDispatcher.smali	2013-08-10 13:27:34.766143514 -0700
+++ pdroid-telephony-common/smali/com/android/internal/telephony/SMSDispatcher.smali	2013-08-10 13:27:36.294143577 -0700
@@ -14,6 +14,10 @@
 
 
 # static fields
+.field protected static final ACCESS_TYPE_ICC:I = 0x1
+
+.field protected static final ACCESS_TYPE_SMS_MMS:I = 0x0
+
 .field static final DBG:Z = false
 
 .field private static final DESTINATION_PORT_COLUMN:I = 0x2
@@ -50,6 +54,8 @@
 
 .field private static final PREMIUM_RULE_USE_SIM:I = 0x1
 
+.field protected static final P_TAG:Ljava/lang/String; = "PrivacySMSDispatcher"
+
 .field public static final RECEIVE_EMERGENCY_BROADCAST_PERMISSION:Ljava/lang/String; = "android.permission.RECEIVE_EMERGENCY_BROADCAST"
 
 .field public static final RECEIVE_SMS_PERMISSION:Ljava/lang/String; = "android.permission.RECEIVE_SMS"
@@ -119,6 +125,8 @@
 
 .field protected final mWapPush:Lcom/android/internal/telephony/WapPushOverSms;
 
+.field protected pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 
 # direct methods
 .method static constructor <clinit>()V
@@ -284,6 +292,27 @@
 
     invoke-direct {p0}, Lcom/android/internal/telephony/SMSDispatcher;->createWakelock()V
 
+    iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v0, :cond_7d
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "privacy"
+
+    invoke-static {v4}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v4
+
+    invoke-static {v4}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v4
+
+    invoke-direct {v0, v3, v4}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    :cond_7d
     iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->mContext:Landroid/content/Context;
 
     invoke-virtual {v0}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
@@ -306,11 +335,11 @@
 
     move-result v0
 
-    if-nez v0, :cond_d2
+    if-nez v0, :cond_e6
 
     move v0, v1
 
-    :goto_83
+    :goto_97
     iput-boolean v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->mSmsReceiveDisabled:Z
 
     const-string v0, "telephony.sms.send"
@@ -321,9 +350,9 @@
 
     move-result v0
 
-    if-nez v0, :cond_d4
+    if-nez v0, :cond_e8
 
-    :goto_8f
+    :goto_a3
     iput-boolean v1, p0, Lcom/android/internal/telephony/SMSDispatcher;->mSmsSendDisabled:Z
 
     const-string v0, "SMSDispatcher"
@@ -390,15 +419,15 @@
 
     return-void
 
-    :cond_d2
+    :cond_e6
     move v0, v2
 
-    goto :goto_83
+    goto :goto_97
 
-    :cond_d4
+    :cond_e8
     move v1, v2
 
-    goto :goto_8f
+    goto :goto_a3
 .end method
 
 .method private createWakelock()V
@@ -1257,6 +1286,26 @@
 .method protected abstract getFormat()Ljava/lang/String;
 .end method
 
+.method protected getPackageName()[Ljava/lang/String;
+    .registers 4
+
+    iget-object v2, p0, Lcom/android/internal/telephony/SMSDispatcher;->mContext:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    invoke-virtual {v1, v2}, Landroid/content/pm/PackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
 .method public getPremiumSmsPermission(Ljava/lang/String;)I
     .registers 3
 
@@ -2067,6 +2116,348 @@
     goto/16 :goto_42
 .end method
 
+.method protected isAllowed([Ljava/lang/String;I)Z
+    .registers 12
+
+    const/4 v8, -0x1
+
+    const/4 v4, 0x1
+
+    const/4 v3, 0x0
+
+    packed-switch p2, :pswitch_data_e6
+
+    const/4 v5, 0x0
+
+    :try_start_7
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    :goto_e
+    return v3
+
+    :pswitch_f
+    const/4 v2, 0x0
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_26
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_26
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_7e
+
+    if-eqz p1, :cond_7e
+
+    const/4 v1, 0x0
+
+    :goto_2d
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_75
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_71
+
+    if-eqz v2, :cond_71
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getSmsSendSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_71
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+    :try_end_4b
+    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_4b} :catch_4c
+
+    goto :goto_e
+
+    :catch_4c
+    move-exception v0
+
+    const-string v5, "PrivacySMSDispatcher"
+
+    const-string v6, "Got exception while checking for sms or ICC acess permission"
+
+    invoke-static {v5, v6}, Landroid/telephony/Rlog;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    if-eqz p1, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_6f
+
+    array-length v5, p1
+
+    if-lez v5, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v3
+
+    invoke-virtual {v5, v6, v8}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_6f
+
+    aget-object v5, p1, v3
+
+    invoke-virtual {p0, p2, v5, v3}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    :cond_6f
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_71
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_2d
+
+    :cond_75
+    const/4 v5, 0x0
+
+    :try_start_76
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_7e
+    if-eqz p1, :cond_8a
+
+    array-length v5, p1
+
+    if-lez v5, :cond_8a
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    :cond_8a
+    move v3, v4
+
+    goto :goto_e
+
+    :pswitch_8c
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_a2
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_a2
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_d7
+
+    if-eqz p1, :cond_d7
+
+    const/4 v1, 0x0
+
+    :goto_a9
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_cd
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_c9
+
+    if-eqz v2, :cond_c9
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getIccAccessSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_c9
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    goto/16 :goto_e
+
+    :cond_c9
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_a9
+
+    :cond_cd
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :cond_d7
+    if-eqz p1, :cond_e3
+
+    array-length v5, p1
+
+    if-lez v5, :cond_e3
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+    :try_end_e3
+    .catch Ljava/lang/Exception; {:try_start_76 .. :try_end_e3} :catch_4c
+
+    :cond_e3
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :pswitch_data_e6
+    .packed-switch 0x0
+        :pswitch_f
+        :pswitch_8c
+    .end packed-switch
+.end method
+
+.method protected notify(ILjava/lang/String;B)V
+    .registers 11
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    packed-switch p1, :pswitch_data_1c
+
+    :goto_5
+    return-void
+
+    :pswitch_6
+    iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "SmsSend"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_11
+    iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "iccAccess"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_data_1c
+    .packed-switch 0x0
+        :pswitch_6
+        :pswitch_11
+    .end packed-switch
+.end method
+
 .method protected processMessagePart([BLjava/lang/String;IIIJIZ)I
     .registers 34
 
@@ -2889,7 +3280,7 @@
     :try_start_7
     invoke-virtual {p3, v2}, Landroid/app/PendingIntent;->send(I)V
     :try_end_a
-    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_7 .. :try_end_a} :catch_b7
+    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_7 .. :try_end_a} :catch_d3
 
     :cond_a
     :goto_a
@@ -2923,6 +3314,41 @@
     goto :goto_11
 
     :cond_1d
+    invoke-virtual {p0}, Lcom/android/internal/telephony/SMSDispatcher;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v2
+
+    const/4 v3, 0x0
+
+    invoke-virtual {p0, v2, v3}, Lcom/android/internal/telephony/SMSDispatcher;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v2
+
+    if-nez v2, :cond_38
+
+    if-eqz p3, :cond_11
+
+    const/4 v2, 0x1
+
+    :try_start_2b
+    invoke-virtual {p3, v2}, Landroid/app/PendingIntent;->send(I)V
+
+    const-string v2, "SMSDispatcher"
+
+    const-string v3, "fake also delivery state to radio off!"
+
+    invoke-static {v2, v3}, Landroid/telephony/Rlog;->i(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_35
+    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_2b .. :try_end_35} :catch_36
+
+    goto :goto_11
+
+    :catch_36
+    move-exception v2
+
+    goto :goto_11
+
+    :cond_38
     new-instance v1, Ljava/util/HashMap;
 
     invoke-direct {v1}, Ljava/util/HashMap;-><init>()V
@@ -2949,13 +3375,13 @@
 
     move-result-object v8
 
-    if-eqz v8, :cond_3f
+    if-eqz v8, :cond_5a
 
     array-length v2, v8
 
-    if-nez v2, :cond_56
+    if-nez v2, :cond_71
 
-    :cond_3f
+    :cond_5a
     const-string v2, "SMSDispatcher"
 
     const-string v3, "Can\'t get calling app package name: refusing to send SMS"
@@ -2966,14 +3392,14 @@
 
     const/4 v2, 0x1
 
-    :try_start_49
+    :try_start_64
     invoke-virtual {p3, v2}, Landroid/app/PendingIntent;->send(I)V
-    :try_end_4c
-    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_49 .. :try_end_4c} :catch_4d
+    :try_end_67
+    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_64 .. :try_end_67} :catch_68
 
     goto :goto_11
 
-    :catch_4d
+    :catch_68
     move-exception v7
 
     const-string v2, "SMSDispatcher"
@@ -2984,19 +3410,19 @@
 
     goto :goto_11
 
-    :cond_56
+    :cond_71
     const/4 v4, 0x0
 
     const/4 v2, 0x0
 
-    :try_start_58
+    :try_start_73
     aget-object v2, v8, v2
 
     const/16 v3, 0x40
 
     invoke-virtual {v9, v2, v3}, Landroid/content/pm/PackageManager;->getPackageInfo(Ljava/lang/String;I)Landroid/content/pm/PackageInfo;
-    :try_end_5f
-    .catch Landroid/content/pm/PackageManager$NameNotFoundException; {:try_start_58 .. :try_end_5f} :catch_85
+    :try_end_7a
+    .catch Landroid/content/pm/PackageManager$NameNotFoundException; {:try_start_73 .. :try_end_7a} :catch_a1
 
     move-result-object v4
 
@@ -3028,7 +3454,7 @@
 
     move-result v2
 
-    if-nez v2, :cond_9f
+    if-nez v2, :cond_bb
 
     const/4 v2, 0x4
 
@@ -3038,9 +3464,9 @@
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/SMSDispatcher;->sendMessage(Landroid/os/Message;)Z
 
-    goto :goto_11
+    goto/16 :goto_11
 
-    :catch_85
+    :catch_a1
     move-exception v6
 
     const-string v2, "SMSDispatcher"
@@ -3053,14 +3479,14 @@
 
     const/4 v2, 0x1
 
-    :try_start_90
+    :try_start_ac
     invoke-virtual {p3, v2}, Landroid/app/PendingIntent;->send(I)V
-    :try_end_93
-    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_90 .. :try_end_93} :catch_95
+    :try_end_af
+    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_ac .. :try_end_af} :catch_b1
 
     goto/16 :goto_11
 
-    :catch_95
+    :catch_b1
     move-exception v7
 
     const-string v2, "SMSDispatcher"
@@ -3071,7 +3497,7 @@
 
     goto/16 :goto_11
 
-    :cond_9f
+    :cond_bb
     iget-object v2, p0, Lcom/android/internal/telephony/SMSDispatcher;->mPhone:Lcom/android/internal/telephony/Phone;
 
     invoke-interface {v2}, Lcom/android/internal/telephony/Phone;->getServiceState()Landroid/telephony/ServiceState;
@@ -3082,7 +3508,7 @@
 
     move-result v10
 
-    if-eqz v10, :cond_b2
+    if-eqz v10, :cond_ce
 
     iget-object v2, v0, Lcom/android/internal/telephony/SMSDispatcher$SmsTracker;->mSentIntent:Landroid/app/PendingIntent;
 
@@ -3090,12 +3516,12 @@
 
     goto/16 :goto_11
 
-    :cond_b2
+    :cond_ce
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/SMSDispatcher;->sendSms(Lcom/android/internal/telephony/SMSDispatcher$SmsTracker;)V
 
     goto/16 :goto_11
 
-    :catch_b7
+    :catch_d3
     move-exception v2
 
     goto/16 :goto_a
diff -Npru stock-telephony-common/smali/com/android/internal/telephony/uicc/RuimRecords.smali pdroid-telephony-common/smali/com/android/internal/telephony/uicc/RuimRecords.smali
--- stock-telephony-common/smali/com/android/internal/telephony/uicc/RuimRecords.smali	2013-08-10 13:27:35.386143541 -0700
+++ pdroid-telephony-common/smali/com/android/internal/telephony/uicc/RuimRecords.smali	2013-08-10 13:27:36.782143598 -0700
@@ -1439,18 +1439,17 @@
     :try_start_33
     iget v7, p1, Landroid/os/Message;->what:I
 
-    sparse-switch v7, :sswitch_data_1ae
+    sparse-switch v7, :sswitch_data_1b0
 
     invoke-super {p0, p1}, Lcom/android/internal/telephony/uicc/IccRecords;->handleMessage(Landroid/os/Message;)V
     :try_end_3b
-    .catchall {:try_start_33 .. :try_end_3b} :catchall_56
+    .catchall {:try_start_33 .. :try_end_3b} :catchall_59
     .catch Ljava/lang/RuntimeException; {:try_start_33 .. :try_end_3b} :catch_45
 
     :cond_3b
     :goto_3b
     if-eqz v4, :cond_32
 
-    :goto_3d
     invoke-virtual {p0}, Lcom/android/internal/telephony/uicc/RuimRecords;->onRecordLoaded()V
 
     goto :goto_32
@@ -1459,7 +1458,7 @@
     :try_start_41
     invoke-virtual {p0}, Lcom/android/internal/telephony/uicc/RuimRecords;->onReady()V
     :try_end_44
-    .catchall {:try_start_41 .. :try_end_44} :catchall_56
+    .catchall {:try_start_41 .. :try_end_44} :catchall_59
     .catch Ljava/lang/RuntimeException; {:try_start_41 .. :try_end_44} :catch_45
 
     goto :goto_3b
@@ -1474,44 +1473,46 @@
 
     invoke-static {v7, v8, v3}, Landroid/telephony/Rlog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_4d
-    .catchall {:try_start_46 .. :try_end_4d} :catchall_56
+    .catchall {:try_start_46 .. :try_end_4d} :catchall_59
 
     if-eqz v4, :cond_32
 
-    goto :goto_3d
+    invoke-virtual {p0}, Lcom/android/internal/telephony/uicc/RuimRecords;->onRecordLoaded()V
+
+    goto :goto_32
 
-    :sswitch_50
-    :try_start_50
+    :sswitch_53
+    :try_start_53
     const-string v7, "Event EVENT_GET_DEVICE_IDENTITY_DONE Received"
 
     invoke-virtual {p0, v7}, Lcom/android/internal/telephony/uicc/RuimRecords;->log(Ljava/lang/String;)V
-    :try_end_55
-    .catchall {:try_start_50 .. :try_end_55} :catchall_56
-    .catch Ljava/lang/RuntimeException; {:try_start_50 .. :try_end_55} :catch_45
+    :try_end_58
+    .catchall {:try_start_53 .. :try_end_58} :catchall_59
+    .catch Ljava/lang/RuntimeException; {:try_start_53 .. :try_end_58} :catch_45
 
     goto :goto_3b
 
-    :catchall_56
+    :catchall_59
     move-exception v7
 
-    if-eqz v4, :cond_5c
+    if-eqz v4, :cond_5f
 
     invoke-virtual {p0}, Lcom/android/internal/telephony/uicc/RuimRecords;->onRecordLoaded()V
 
-    :cond_5c
+    :cond_5f
     throw v7
 
-    :sswitch_5d
+    :sswitch_60
     const/4 v4, 0x1
 
-    :try_start_5e
+    :try_start_61
     iget-object v1, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
     check-cast v1, Landroid/os/AsyncResult;
 
     iget-object v7, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    if-eqz v7, :cond_7f
+    if-eqz v7, :cond_82
 
     new-instance v7, Ljava/lang/StringBuilder;
 
@@ -1537,7 +1538,7 @@
 
     goto :goto_3b
 
-    :cond_7f
+    :cond_82
     iget-object v7, v1, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
     check-cast v7, Ljava/lang/String;
@@ -1546,7 +1547,7 @@
 
     iget-object v7, p0, Lcom/android/internal/telephony/uicc/RuimRecords;->mImsi:Ljava/lang/String;
 
-    if-eqz v7, :cond_b6
+    if-eqz v7, :cond_b9
 
     iget-object v7, p0, Lcom/android/internal/telephony/uicc/RuimRecords;->mImsi:Ljava/lang/String;
 
@@ -1554,7 +1555,7 @@
 
     move-result v7
 
-    if-lt v7, v11, :cond_9b
+    if-lt v7, v11, :cond_9e
 
     iget-object v7, p0, Lcom/android/internal/telephony/uicc/RuimRecords;->mImsi:Ljava/lang/String;
 
@@ -1564,9 +1565,9 @@
 
     const/16 v8, 0xf
 
-    if-le v7, v8, :cond_b6
+    if-le v7, v8, :cond_b9
 
-    :cond_9b
+    :cond_9e
     new-instance v7, Ljava/lang/StringBuilder;
 
     invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V
@@ -1593,7 +1594,7 @@
 
     iput-object v7, p0, Lcom/android/internal/telephony/uicc/RuimRecords;->mImsi:Ljava/lang/String;
 
-    :cond_b6
+    :cond_b9
     new-instance v7, Ljava/lang/StringBuilder;
 
     invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V
@@ -1648,7 +1649,7 @@
 
     goto/16 :goto_3b
 
-    :sswitch_ed
+    :sswitch_f0
     iget-object v1, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
     check-cast v1, Landroid/os/AsyncResult;
@@ -1721,7 +1722,7 @@
 
     goto/16 :goto_3b
 
-    :sswitch_132
+    :sswitch_135
     const/4 v4, 0x1
 
     iget-object v1, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -1776,7 +1777,7 @@
 
     goto/16 :goto_3b
 
-    :sswitch_165
+    :sswitch_168
     iget-object v1, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
     check-cast v1, Landroid/os/AsyncResult;
@@ -1795,7 +1796,7 @@
 
     goto/16 :goto_3b
 
-    :sswitch_178
+    :sswitch_17b
     const-string v7, "RuimRecords"
 
     new-instance v8, Ljava/lang/StringBuilder;
@@ -1822,14 +1823,14 @@
 
     goto/16 :goto_3b
 
-    :sswitch_194
+    :sswitch_197
     const-string v7, "Event EVENT_GET_SST_DONE Received"
 
     invoke-virtual {p0, v7}, Lcom/android/internal/telephony/uicc/RuimRecords;->log(Ljava/lang/String;)V
 
     goto/16 :goto_3b
 
-    :sswitch_19b
+    :sswitch_19e
     const/4 v4, 0x0
 
     iget-object v1, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -1845,28 +1846,26 @@
     check-cast v7, Lcom/android/internal/telephony/uicc/IccRefreshResponse;
 
     invoke-direct {p0, v7}, Lcom/android/internal/telephony/uicc/RuimRecords;->handleRuimRefresh(Lcom/android/internal/telephony/uicc/IccRefreshResponse;)V
-    :try_end_1ab
-    .catchall {:try_start_5e .. :try_end_1ab} :catchall_56
-    .catch Ljava/lang/RuntimeException; {:try_start_5e .. :try_end_1ab} :catch_45
+    :try_end_1ae
+    .catchall {:try_start_61 .. :try_end_1ae} :catchall_59
+    .catch Ljava/lang/RuntimeException; {:try_start_61 .. :try_end_1ae} :catch_45
 
     goto/16 :goto_3b
 
-    nop
-
-    :sswitch_data_1ae
+    :sswitch_data_1b0
     .sparse-switch
         0x1 -> :sswitch_41
-        0x3 -> :sswitch_5d
-        0x4 -> :sswitch_50
-        0x5 -> :sswitch_132
-        0xa -> :sswitch_ed
-        0xe -> :sswitch_165
-        0x11 -> :sswitch_194
-        0x12 -> :sswitch_178
-        0x13 -> :sswitch_178
-        0x15 -> :sswitch_178
-        0x16 -> :sswitch_178
-        0x1f -> :sswitch_19b
+        0x3 -> :sswitch_60
+        0x4 -> :sswitch_53
+        0x5 -> :sswitch_135
+        0xa -> :sswitch_f0
+        0xe -> :sswitch_168
+        0x11 -> :sswitch_197
+        0x12 -> :sswitch_17b
+        0x13 -> :sswitch_17b
+        0x15 -> :sswitch_17b
+        0x16 -> :sswitch_17b
+        0x1f -> :sswitch_19e
     .end sparse-switch
 .end method
 
diff -Npru stock-telephony-common/smali/com/android/internal/telephony/uicc/VoiceMailConstants.smali pdroid-telephony-common/smali/com/android/internal/telephony/uicc/VoiceMailConstants.smali
--- stock-telephony-common/smali/com/android/internal/telephony/uicc/VoiceMailConstants.smali	2013-08-10 13:27:35.430143542 -0700
+++ pdroid-telephony-common/smali/com/android/internal/telephony/uicc/VoiceMailConstants.smali	2013-08-10 13:27:36.818143599 -0700
@@ -91,7 +91,7 @@
 
     invoke-virtual {v7, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
     :try_end_28
-    .catchall {:try_start_10 .. :try_end_28} :catchall_ca
+    .catchall {:try_start_10 .. :try_end_28} :catchall_cd
     .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_10 .. :try_end_28} :catch_89
     .catch Ljava/io/IOException; {:try_start_10 .. :try_end_28} :catch_aa
 
@@ -104,7 +104,7 @@
     :try_start_2d
     invoke-virtual {v6}, Ljava/io/FileReader;->close()V
     :try_end_30
-    .catch Ljava/io/IOException; {:try_start_2d .. :try_end_30} :catch_a8
+    .catch Ljava/io/IOException; {:try_start_2d .. :try_end_30} :catch_d4
 
     :cond_30
     :goto_30
@@ -207,7 +207,7 @@
 
     invoke-virtual {v7, v3, v0}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     :try_end_88
-    .catchall {:try_start_5c .. :try_end_88} :catchall_ca
+    .catchall {:try_start_5c .. :try_end_88} :catchall_cd
     .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_5c .. :try_end_88} :catch_89
     .catch Ljava/io/IOException; {:try_start_5c .. :try_end_88} :catch_aa
 
@@ -239,7 +239,7 @@
 
     invoke-static {v7, v8}, Landroid/telephony/Rlog;->w(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_a2
-    .catchall {:try_start_8a .. :try_end_a2} :catchall_ca
+    .catchall {:try_start_8a .. :try_end_a2} :catchall_cd
 
     if-eqz v6, :cond_30
 
@@ -281,35 +281,45 @@
 
     invoke-static {v7, v8}, Landroid/telephony/Rlog;->w(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_c3
-    .catchall {:try_start_ab .. :try_end_c3} :catchall_ca
+    .catchall {:try_start_ab .. :try_end_c3} :catchall_cd
 
     if-eqz v6, :cond_30
 
     :try_start_c5
     invoke-virtual {v6}, Ljava/io/FileReader;->close()V
     :try_end_c8
-    .catch Ljava/io/IOException; {:try_start_c5 .. :try_end_c8} :catch_a8
+    .catch Ljava/io/IOException; {:try_start_c5 .. :try_end_c8} :catch_ca
 
     goto/16 :goto_30
 
-    :catchall_ca
+    :catch_ca
     move-exception v7
 
-    if-eqz v6, :cond_d0
+    goto/16 :goto_30
+
+    :catchall_cd
+    move-exception v7
+
+    if-eqz v6, :cond_d3
 
-    :try_start_cd
+    :try_start_d0
     invoke-virtual {v6}, Ljava/io/FileReader;->close()V
-    :try_end_d0
-    .catch Ljava/io/IOException; {:try_start_cd .. :try_end_d0} :catch_d1
+    :try_end_d3
+    .catch Ljava/io/IOException; {:try_start_d0 .. :try_end_d3} :catch_d7
 
-    :cond_d0
-    :goto_d0
+    :cond_d3
+    :goto_d3
     throw v7
 
-    :catch_d1
+    :catch_d4
+    move-exception v7
+
+    goto/16 :goto_30
+
+    :catch_d7
     move-exception v8
 
-    goto :goto_d0
+    goto :goto_d3
 .end method
 
 
